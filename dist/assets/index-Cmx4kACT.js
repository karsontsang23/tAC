(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Pu={exports:{}},Ys={},bu={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lr=Symbol.for("react.element"),vh=Symbol.for("react.portal"),yh=Symbol.for("react.fragment"),wh=Symbol.for("react.strict_mode"),_h=Symbol.for("react.profiler"),kh=Symbol.for("react.provider"),Sh=Symbol.for("react.context"),xh=Symbol.for("react.forward_ref"),jh=Symbol.for("react.suspense"),Eh=Symbol.for("react.memo"),Ch=Symbol.for("react.lazy"),sl=Symbol.iterator;function Nh(t){return t===null||typeof t!="object"?null:(t=sl&&t[sl]||t["@@iterator"],typeof t=="function"?t:null)}var Ou={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iu=Object.assign,Ru={};function zn(t,e,n){this.props=t,this.context=e,this.refs=Ru,this.updater=n||Ou}zn.prototype.isReactComponent={};zn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Au(){}Au.prototype=zn.prototype;function ra(t,e,n){this.props=t,this.context=e,this.refs=Ru,this.updater=n||Ou}var sa=ra.prototype=new Au;sa.constructor=ra;Iu(sa,zn.prototype);sa.isPureReactComponent=!0;var il=Array.isArray,$u=Object.prototype.hasOwnProperty,ia={current:null},Lu={key:!0,ref:!0,__self:!0,__source:!0};function Du(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)$u.call(e,r)&&!Lu.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Lr,type:t,key:i,ref:o,props:s,_owner:ia.current}}function Th(t,e){return{$$typeof:Lr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oa(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lr}function Ph(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ol=/\/+/g;function Si(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ph(""+t.key):e.toString(36)}function fs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Lr:case vh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Si(o,0):r,il(s)?(n="",t!=null&&(n=t.replace(ol,"$&/")+"/"),fs(s,e,n,"",function(u){return u})):s!=null&&(oa(s)&&(s=Th(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ol,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",il(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Si(i,a);o+=fs(i,e,n,l,s)}else if(l=Nh(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Si(i,a++),o+=fs(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vr(t,e,n){if(t==null)return t;var r=[],s=0;return fs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function bh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ve={current:null},ps={transition:null},Oh={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:ps,ReactCurrentOwner:ia};function Uu(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:Vr,forEach:function(t,e,n){Vr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vr(t,function(){e++}),e},toArray:function(t){return Vr(t,function(e){return e})||[]},only:function(t){if(!oa(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};D.Component=zn;D.Fragment=yh;D.Profiler=_h;D.PureComponent=ra;D.StrictMode=wh;D.Suspense=jh;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oh;D.act=Uu;D.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Iu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ia.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$u.call(e,l)&&!Lu.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Lr,type:t.type,key:s,ref:i,props:r,_owner:o}};D.createContext=function(t){return t={$$typeof:Sh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kh,_context:t},t.Consumer=t};D.createElement=Du;D.createFactory=function(t){var e=Du.bind(null,t);return e.type=t,e};D.createRef=function(){return{current:null}};D.forwardRef=function(t){return{$$typeof:xh,render:t}};D.isValidElement=oa;D.lazy=function(t){return{$$typeof:Ch,_payload:{_status:-1,_result:t},_init:bh}};D.memo=function(t,e){return{$$typeof:Eh,type:t,compare:e===void 0?null:e}};D.startTransition=function(t){var e=ps.transition;ps.transition={};try{t()}finally{ps.transition=e}};D.unstable_act=Uu;D.useCallback=function(t,e){return ve.current.useCallback(t,e)};D.useContext=function(t){return ve.current.useContext(t)};D.useDebugValue=function(){};D.useDeferredValue=function(t){return ve.current.useDeferredValue(t)};D.useEffect=function(t,e){return ve.current.useEffect(t,e)};D.useId=function(){return ve.current.useId()};D.useImperativeHandle=function(t,e,n){return ve.current.useImperativeHandle(t,e,n)};D.useInsertionEffect=function(t,e){return ve.current.useInsertionEffect(t,e)};D.useLayoutEffect=function(t,e){return ve.current.useLayoutEffect(t,e)};D.useMemo=function(t,e){return ve.current.useMemo(t,e)};D.useReducer=function(t,e,n){return ve.current.useReducer(t,e,n)};D.useRef=function(t){return ve.current.useRef(t)};D.useState=function(t){return ve.current.useState(t)};D.useSyncExternalStore=function(t,e,n){return ve.current.useSyncExternalStore(t,e,n)};D.useTransition=function(){return ve.current.useTransition()};D.version="18.3.1";bu.exports=D;var aa=bu.exports;const I=mh(aa);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih=aa,Rh=Symbol.for("react.element"),Ah=Symbol.for("react.fragment"),$h=Object.prototype.hasOwnProperty,Lh=Ih.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dh={key:!0,ref:!0,__self:!0,__source:!0};function Mu(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$h.call(e,r)&&!Dh.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Rh,type:t,key:i,ref:o,props:s,_owner:Lh.current}}Ys.Fragment=Ah;Ys.jsx=Mu;Ys.jsxs=Mu;Pu.exports=Ys;var c=Pu.exports,zu={exports:{}},Oe={},Fu={exports:{}},Bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,T){var b=S.length;S.push(T);e:for(;0<b;){var F=b-1>>>1,Z=S[F];if(0<s(Z,T))S[F]=T,S[b]=Z,b=F;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var T=S[0],b=S.pop();if(b!==T){S[0]=b;e:for(var F=0,Z=S.length,Mt=Z>>>1;F<Mt;){var tt=2*(F+1)-1,ki=S[tt],zt=tt+1,Wr=S[zt];if(0>s(ki,b))zt<Z&&0>s(Wr,ki)?(S[F]=Wr,S[zt]=b,F=zt):(S[F]=ki,S[tt]=b,F=tt);else if(zt<Z&&0>s(Wr,b))S[F]=Wr,S[zt]=b,F=zt;else break e}}return T}function s(S,T){var b=S.sortIndex-T.sortIndex;return b!==0?b:S.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,v=!1,y=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(S){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=S)r(u),T.sortIndex=T.expirationTime,e(l,T);else break;T=n(u)}}function w(S){if(_=!1,p(S),!y)if(n(l)!==null)y=!0,on(k);else{var T=n(u);T!==null&&O(w,T.startTime-S)}}function k(S,T){y=!1,_&&(_=!1,g(j),j=-1),v=!0;var b=f;try{for(p(T),h=n(l);h!==null&&(!(h.expirationTime>T)||S&&!X());){var F=h.callback;if(typeof F=="function"){h.callback=null,f=h.priorityLevel;var Z=F(h.expirationTime<=T);T=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(l)&&r(l),p(T)}else r(l);h=n(l)}if(h!==null)var Mt=!0;else{var tt=n(u);tt!==null&&O(w,tt.startTime-T),Mt=!1}return Mt}finally{h=null,f=b,v=!1}}var x=!1,N=null,j=-1,$=5,R=-1;function X(){return!(t.unstable_now()-R<$)}function we(){if(N!==null){var S=t.unstable_now();R=S;var T=!0;try{T=N(!0,S)}finally{T?Ut():(x=!1,N=null)}}else x=!1}var Ut;if(typeof m=="function")Ut=function(){m(we)};else if(typeof MessageChannel<"u"){var Hr=new MessageChannel,_i=Hr.port2;Hr.port1.onmessage=we,Ut=function(){_i.postMessage(null)}}else Ut=function(){C(we,0)};function on(S){N=S,x||(x=!0,Ut())}function O(S,T){j=C(function(){S(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,on(k))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(S){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var b=f;f=T;try{return S()}finally{f=b}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,T){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var b=f;f=S;try{return T()}finally{f=b}},t.unstable_scheduleCallback=function(S,T,b){var F=t.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?F+b:F):b=F,S){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=b+Z,S={id:d++,callback:T,priorityLevel:S,startTime:b,expirationTime:Z,sortIndex:-1},b>F?(S.sortIndex=b,e(u,S),n(l)===null&&S===n(u)&&(_?(g(j),j=-1):_=!0,O(w,b-F))):(S.sortIndex=Z,e(l,S),y||v||(y=!0,on(k))),S},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(S){var T=f;return function(){var b=f;f=T;try{return S.apply(this,arguments)}finally{f=b}}}})(Bu);Fu.exports=Bu;var Uh=Fu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh=aa,be=Uh;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hu=new Set,yr={};function nn(t,e){In(t,e),In(t+"Capture",e)}function In(t,e){for(yr[t]=e,t=0;t<e.length;t++)Hu.add(e[t])}var ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eo=Object.prototype.hasOwnProperty,zh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,al={},ll={};function Fh(t){return eo.call(ll,t)?!0:eo.call(al,t)?!1:zh.test(t)?ll[t]=!0:(al[t]=!0,!1)}function Bh(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hh(t,e,n,r){if(e===null||typeof e>"u"||Bh(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ye(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){le[t]=new ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];le[e]=new ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){le[t]=new ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){le[t]=new ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){le[t]=new ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){le[t]=new ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){le[t]=new ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){le[t]=new ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){le[t]=new ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var la=/[\-:]([a-z])/g;function ua(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(la,ua);le[e]=new ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(la,ua);le[e]=new ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(la,ua);le[e]=new ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){le[t]=new ye(t,1,!1,t.toLowerCase(),null,!1,!1)});le.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){le[t]=new ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function ca(t,e,n,r){var s=le.hasOwnProperty(e)?le[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Hh(e,n,s,r)&&(n=null),r||s===null?Fh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ft=Mh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qr=Symbol.for("react.element"),fn=Symbol.for("react.portal"),pn=Symbol.for("react.fragment"),da=Symbol.for("react.strict_mode"),to=Symbol.for("react.profiler"),Wu=Symbol.for("react.provider"),Vu=Symbol.for("react.context"),ha=Symbol.for("react.forward_ref"),no=Symbol.for("react.suspense"),ro=Symbol.for("react.suspense_list"),fa=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),qu=Symbol.for("react.offscreen"),ul=Symbol.iterator;function qn(t){return t===null||typeof t!="object"?null:(t=ul&&t[ul]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,xi;function tr(t){if(xi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xi=e&&e[1]||""}return`
`+xi+t}var ji=!1;function Ei(t,e){if(!t||ji)return"";ji=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ji=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tr(t):""}function Wh(t){switch(t.tag){case 5:return tr(t.type);case 16:return tr("Lazy");case 13:return tr("Suspense");case 19:return tr("SuspenseList");case 0:case 2:case 15:return t=Ei(t.type,!1),t;case 11:return t=Ei(t.type.render,!1),t;case 1:return t=Ei(t.type,!0),t;default:return""}}function so(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pn:return"Fragment";case fn:return"Portal";case to:return"Profiler";case da:return"StrictMode";case no:return"Suspense";case ro:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vu:return(t.displayName||"Context")+".Consumer";case Wu:return(t._context.displayName||"Context")+".Provider";case ha:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fa:return e=t.displayName||null,e!==null?e:so(t.type)||"Memo";case gt:e=t._payload,t=t._init;try{return so(t(e))}catch{}}return null}function Vh(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return so(e);case 8:return e===da?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function It(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qh(t){var e=Gu(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gr(t){t._valueTracker||(t._valueTracker=qh(t))}function Ku(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gu(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Es(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function io(t,e){var n=e.checked;return Q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cl(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=It(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qu(t,e){e=e.checked,e!=null&&ca(t,"checked",e,!1)}function oo(t,e){Qu(t,e);var n=It(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ao(t,e.type,n):e.hasOwnProperty("defaultValue")&&ao(t,e.type,It(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dl(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ao(t,e,n){(e!=="number"||Es(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nr=Array.isArray;function En(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+It(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function lo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return Q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hl(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(nr(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:It(n)}}function Ju(t,e){var n=It(e.value),r=It(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yu(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yu(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kr,Xu=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kr=Kr||document.createElement("div"),Kr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gh=["Webkit","ms","Moz","O"];Object.keys(or).forEach(function(t){Gh.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),or[e]=or[t]})});function Zu(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||or.hasOwnProperty(t)&&or[t]?(""+e).trim():e+"px"}function ec(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Zu(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Kh=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function co(t,e){if(e){if(Kh[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function ho(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fo=null;function pa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var po=null,Cn=null,Nn=null;function pl(t){if(t=Mr(t)){if(typeof po!="function")throw Error(E(280));var e=t.stateNode;e&&(e=ni(e),po(t.stateNode,t.type,e))}}function tc(t){Cn?Nn?Nn.push(t):Nn=[t]:Cn=t}function nc(){if(Cn){var t=Cn,e=Nn;if(Nn=Cn=null,pl(t),e)for(t=0;t<e.length;t++)pl(e[t])}}function rc(t,e){return t(e)}function sc(){}var Ci=!1;function ic(t,e,n){if(Ci)return t(e,n);Ci=!0;try{return rc(t,e,n)}finally{Ci=!1,(Cn!==null||Nn!==null)&&(sc(),nc())}}function _r(t,e){var n=t.stateNode;if(n===null)return null;var r=ni(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var mo=!1;if(ut)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){mo=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{mo=!1}function Qh(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ar=!1,Cs=null,Ns=!1,go=null,Jh={onError:function(t){ar=!0,Cs=t}};function Yh(t,e,n,r,s,i,o,a,l){ar=!1,Cs=null,Qh.apply(Jh,arguments)}function Xh(t,e,n,r,s,i,o,a,l){if(Yh.apply(this,arguments),ar){if(ar){var u=Cs;ar=!1,Cs=null}else throw Error(E(198));Ns||(Ns=!0,go=u)}}function rn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ml(t){if(rn(t)!==t)throw Error(E(188))}function Zh(t){var e=t.alternate;if(!e){if(e=rn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ml(s),t;if(i===r)return ml(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function ac(t){return t=Zh(t),t!==null?lc(t):null}function lc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lc(t);if(e!==null)return e;t=t.sibling}return null}var uc=be.unstable_scheduleCallback,gl=be.unstable_cancelCallback,ef=be.unstable_shouldYield,tf=be.unstable_requestPaint,Y=be.unstable_now,nf=be.unstable_getCurrentPriorityLevel,ma=be.unstable_ImmediatePriority,cc=be.unstable_UserBlockingPriority,Ts=be.unstable_NormalPriority,rf=be.unstable_LowPriority,dc=be.unstable_IdlePriority,Xs=null,Ze=null;function sf(t){if(Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(Xs,t,void 0,(t.current.flags&128)===128)}catch{}}var qe=Math.clz32?Math.clz32:lf,of=Math.log,af=Math.LN2;function lf(t){return t>>>=0,t===0?32:31-(of(t)/af|0)|0}var Qr=64,Jr=4194304;function rr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ps(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=rr(a):(i&=o,i!==0&&(r=rr(i)))}else o=n&~s,o!==0?r=rr(o):i!==0&&(r=rr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qe(e),s=1<<n,r|=t[n],e&=~s;return r}function uf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-qe(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=uf(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function vo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hc(){var t=Qr;return Qr<<=1,!(Qr&4194240)&&(Qr=64),t}function Ni(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qe(e),t[e]=n}function df(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-qe(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ga(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qe(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var z=0;function fc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pc,va,mc,gc,vc,yo=!1,Yr=[],jt=null,Et=null,Ct=null,kr=new Map,Sr=new Map,wt=[],hf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vl(t,e){switch(t){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":kr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sr.delete(e.pointerId)}}function Kn(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Mr(e),e!==null&&va(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ff(t,e,n,r,s){switch(e){case"focusin":return jt=Kn(jt,t,e,n,r,s),!0;case"dragenter":return Et=Kn(Et,t,e,n,r,s),!0;case"mouseover":return Ct=Kn(Ct,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return kr.set(i,Kn(kr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Sr.set(i,Kn(Sr.get(i)||null,t,e,n,r,s)),!0}return!1}function yc(t){var e=qt(t.target);if(e!==null){var n=rn(e);if(n!==null){if(e=n.tag,e===13){if(e=oc(n),e!==null){t.blockedOn=e,vc(t.priority,function(){mc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ms(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fo=r,n.target.dispatchEvent(r),fo=null}else return e=Mr(n),e!==null&&va(e),t.blockedOn=n,!1;e.shift()}return!0}function yl(t,e,n){ms(t)&&n.delete(e)}function pf(){yo=!1,jt!==null&&ms(jt)&&(jt=null),Et!==null&&ms(Et)&&(Et=null),Ct!==null&&ms(Ct)&&(Ct=null),kr.forEach(yl),Sr.forEach(yl)}function Qn(t,e){t.blockedOn===e&&(t.blockedOn=null,yo||(yo=!0,be.unstable_scheduleCallback(be.unstable_NormalPriority,pf)))}function xr(t){function e(s){return Qn(s,t)}if(0<Yr.length){Qn(Yr[0],t);for(var n=1;n<Yr.length;n++){var r=Yr[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jt!==null&&Qn(jt,t),Et!==null&&Qn(Et,t),Ct!==null&&Qn(Ct,t),kr.forEach(e),Sr.forEach(e),n=0;n<wt.length;n++)r=wt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wt.length&&(n=wt[0],n.blockedOn===null);)yc(n),n.blockedOn===null&&wt.shift()}var Tn=ft.ReactCurrentBatchConfig,bs=!0;function mf(t,e,n,r){var s=z,i=Tn.transition;Tn.transition=null;try{z=1,ya(t,e,n,r)}finally{z=s,Tn.transition=i}}function gf(t,e,n,r){var s=z,i=Tn.transition;Tn.transition=null;try{z=4,ya(t,e,n,r)}finally{z=s,Tn.transition=i}}function ya(t,e,n,r){if(bs){var s=wo(t,e,n,r);if(s===null)Di(t,e,r,Os,n),vl(t,r);else if(ff(s,t,e,n,r))r.stopPropagation();else if(vl(t,r),e&4&&-1<hf.indexOf(t)){for(;s!==null;){var i=Mr(s);if(i!==null&&pc(i),i=wo(t,e,n,r),i===null&&Di(t,e,r,Os,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Di(t,e,r,null,n)}}var Os=null;function wo(t,e,n,r){if(Os=null,t=pa(r),t=qt(t),t!==null)if(e=rn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Os=t,null}function wc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nf()){case ma:return 1;case cc:return 4;case Ts:case rf:return 16;case dc:return 536870912;default:return 16}default:return 16}}var St=null,wa=null,gs=null;function _c(){if(gs)return gs;var t,e=wa,n=e.length,r,s="value"in St?St.value:St.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return gs=s.slice(t,1<r?1-r:void 0)}function vs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xr(){return!0}function wl(){return!1}function Ie(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xr:wl,this.isPropagationStopped=wl,this}return Q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xr)},persist:function(){},isPersistent:Xr}),e}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=Ie(Fn),Ur=Q({},Fn,{view:0,detail:0}),vf=Ie(Ur),Ti,Pi,Jn,Zs=Q({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(Ti=t.screenX-Jn.screenX,Pi=t.screenY-Jn.screenY):Pi=Ti=0,Jn=t),Ti)},movementY:function(t){return"movementY"in t?t.movementY:Pi}}),_l=Ie(Zs),yf=Q({},Zs,{dataTransfer:0}),wf=Ie(yf),_f=Q({},Ur,{relatedTarget:0}),bi=Ie(_f),kf=Q({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sf=Ie(kf),xf=Q({},Fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jf=Ie(xf),Ef=Q({},Fn,{data:0}),kl=Ie(Ef),Cf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tf[t])?!!e[t]:!1}function ka(){return Pf}var bf=Q({},Ur,{key:function(t){if(t.key){var e=Cf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(t){return t.type==="keypress"?vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Of=Ie(bf),If=Q({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sl=Ie(If),Rf=Q({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),Af=Ie(Rf),$f=Q({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lf=Ie($f),Df=Q({},Zs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Uf=Ie(Df),Mf=[9,13,27,32],Sa=ut&&"CompositionEvent"in window,lr=null;ut&&"documentMode"in document&&(lr=document.documentMode);var zf=ut&&"TextEvent"in window&&!lr,kc=ut&&(!Sa||lr&&8<lr&&11>=lr),xl=" ",jl=!1;function Sc(t,e){switch(t){case"keyup":return Mf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mn=!1;function Ff(t,e){switch(t){case"compositionend":return xc(e);case"keypress":return e.which!==32?null:(jl=!0,xl);case"textInput":return t=e.data,t===xl&&jl?null:t;default:return null}}function Bf(t,e){if(mn)return t==="compositionend"||!Sa&&Sc(t,e)?(t=_c(),gs=wa=St=null,mn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kc&&e.locale!=="ko"?null:e.data;default:return null}}var Hf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function El(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hf[t.type]:e==="textarea"}function jc(t,e,n,r){tc(r),e=Is(e,"onChange"),0<e.length&&(n=new _a("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ur=null,jr=null;function Wf(t){$c(t,0)}function ei(t){var e=yn(t);if(Ku(e))return t}function Vf(t,e){if(t==="change")return e}var Ec=!1;if(ut){var Oi;if(ut){var Ii="oninput"in document;if(!Ii){var Cl=document.createElement("div");Cl.setAttribute("oninput","return;"),Ii=typeof Cl.oninput=="function"}Oi=Ii}else Oi=!1;Ec=Oi&&(!document.documentMode||9<document.documentMode)}function Nl(){ur&&(ur.detachEvent("onpropertychange",Cc),jr=ur=null)}function Cc(t){if(t.propertyName==="value"&&ei(jr)){var e=[];jc(e,jr,t,pa(t)),ic(Wf,e)}}function qf(t,e,n){t==="focusin"?(Nl(),ur=e,jr=n,ur.attachEvent("onpropertychange",Cc)):t==="focusout"&&Nl()}function Gf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ei(jr)}function Kf(t,e){if(t==="click")return ei(e)}function Qf(t,e){if(t==="input"||t==="change")return ei(e)}function Jf(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ke=typeof Object.is=="function"?Object.is:Jf;function Er(t,e){if(Ke(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!eo.call(e,s)||!Ke(t[s],e[s]))return!1}return!0}function Tl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pl(t,e){var n=Tl(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tl(n)}}function Nc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Tc(){for(var t=window,e=Es();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Es(t.document)}return e}function xa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yf(t){var e=Tc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Nc(n.ownerDocument.documentElement,n)){if(r!==null&&xa(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Pl(n,i);var o=Pl(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xf=ut&&"documentMode"in document&&11>=document.documentMode,gn=null,_o=null,cr=null,ko=!1;function bl(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ko||gn==null||gn!==Es(r)||(r=gn,"selectionStart"in r&&xa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cr&&Er(cr,r)||(cr=r,r=Is(_o,"onSelect"),0<r.length&&(e=new _a("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gn)))}function Zr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vn={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionend:Zr("Transition","TransitionEnd")},Ri={},Pc={};ut&&(Pc=document.createElement("div").style,"AnimationEvent"in window||(delete vn.animationend.animation,delete vn.animationiteration.animation,delete vn.animationstart.animation),"TransitionEvent"in window||delete vn.transitionend.transition);function ti(t){if(Ri[t])return Ri[t];if(!vn[t])return t;var e=vn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Pc)return Ri[t]=e[n];return t}var bc=ti("animationend"),Oc=ti("animationiteration"),Ic=ti("animationstart"),Rc=ti("transitionend"),Ac=new Map,Ol="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function At(t,e){Ac.set(t,e),nn(e,[t])}for(var Ai=0;Ai<Ol.length;Ai++){var $i=Ol[Ai],Zf=$i.toLowerCase(),ep=$i[0].toUpperCase()+$i.slice(1);At(Zf,"on"+ep)}At(bc,"onAnimationEnd");At(Oc,"onAnimationIteration");At(Ic,"onAnimationStart");At("dblclick","onDoubleClick");At("focusin","onFocus");At("focusout","onBlur");At(Rc,"onTransitionEnd");In("onMouseEnter",["mouseout","mouseover"]);In("onMouseLeave",["mouseout","mouseover"]);In("onPointerEnter",["pointerout","pointerover"]);In("onPointerLeave",["pointerout","pointerover"]);nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nn("onBeforeInput",["compositionend","keypress","textInput","paste"]);nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tp=new Set("cancel close invalid load scroll toggle".split(" ").concat(sr));function Il(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Xh(r,e,void 0,t),t.currentTarget=null}function $c(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Il(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Il(s,a,u),i=l}}}if(Ns)throw t=go,Ns=!1,go=null,t}function W(t,e){var n=e[Co];n===void 0&&(n=e[Co]=new Set);var r=t+"__bubble";n.has(r)||(Lc(e,t,2,!1),n.add(r))}function Li(t,e,n){var r=0;e&&(r|=4),Lc(n,t,r,e)}var es="_reactListening"+Math.random().toString(36).slice(2);function Cr(t){if(!t[es]){t[es]=!0,Hu.forEach(function(n){n!=="selectionchange"&&(tp.has(n)||Li(n,!1,t),Li(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[es]||(e[es]=!0,Li("selectionchange",!1,e))}}function Lc(t,e,n,r){switch(wc(e)){case 1:var s=mf;break;case 4:s=gf;break;default:s=ya}n=s.bind(null,e,n,t),s=void 0,!mo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Di(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=qt(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ic(function(){var u=i,d=pa(n),h=[];e:{var f=Ac.get(t);if(f!==void 0){var v=_a,y=t;switch(t){case"keypress":if(vs(n)===0)break e;case"keydown":case"keyup":v=Of;break;case"focusin":y="focus",v=bi;break;case"focusout":y="blur",v=bi;break;case"beforeblur":case"afterblur":v=bi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Af;break;case bc:case Oc:case Ic:v=Sf;break;case Rc:v=Lf;break;case"scroll":v=vf;break;case"wheel":v=Uf;break;case"copy":case"cut":case"paste":v=jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Sl}var _=(e&4)!==0,C=!_&&t==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var m=u,p;m!==null;){p=m;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,g!==null&&(w=_r(m,g),w!=null&&_.push(Nr(m,w,p)))),C)break;m=m.return}0<_.length&&(f=new v(f,y,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==fo&&(y=n.relatedTarget||n.fromElement)&&(qt(y)||y[ct]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?qt(y):null,y!==null&&(C=rn(y),y!==C||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(_=_l,w="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=Sl,w="onPointerLeave",g="onPointerEnter",m="pointer"),C=v==null?f:yn(v),p=y==null?f:yn(y),f=new _(w,m+"leave",v,n,d),f.target=C,f.relatedTarget=p,w=null,qt(d)===u&&(_=new _(g,m+"enter",y,n,d),_.target=p,_.relatedTarget=C,w=_),C=w,v&&y)t:{for(_=v,g=y,m=0,p=_;p;p=an(p))m++;for(p=0,w=g;w;w=an(w))p++;for(;0<m-p;)_=an(_),m--;for(;0<p-m;)g=an(g),p--;for(;m--;){if(_===g||g!==null&&_===g.alternate)break t;_=an(_),g=an(g)}_=null}else _=null;v!==null&&Rl(h,f,v,_,!1),y!==null&&C!==null&&Rl(h,C,y,_,!0)}}e:{if(f=u?yn(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var k=Vf;else if(El(f))if(Ec)k=Qf;else{k=Gf;var x=qf}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Kf);if(k&&(k=k(t,u))){jc(h,k,n,d);break e}x&&x(t,f,u),t==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&ao(f,"number",f.value)}switch(x=u?yn(u):window,t){case"focusin":(El(x)||x.contentEditable==="true")&&(gn=x,_o=u,cr=null);break;case"focusout":cr=_o=gn=null;break;case"mousedown":ko=!0;break;case"contextmenu":case"mouseup":case"dragend":ko=!1,bl(h,n,d);break;case"selectionchange":if(Xf)break;case"keydown":case"keyup":bl(h,n,d)}var N;if(Sa)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else mn?Sc(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(kc&&n.locale!=="ko"&&(mn||j!=="onCompositionStart"?j==="onCompositionEnd"&&mn&&(N=_c()):(St=d,wa="value"in St?St.value:St.textContent,mn=!0)),x=Is(u,j),0<x.length&&(j=new kl(j,t,null,n,d),h.push({event:j,listeners:x}),N?j.data=N:(N=xc(n),N!==null&&(j.data=N)))),(N=zf?Ff(t,n):Bf(t,n))&&(u=Is(u,"onBeforeInput"),0<u.length&&(d=new kl("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}$c(h,e)})}function Nr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Is(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=_r(t,n),i!=null&&r.unshift(Nr(t,i,s)),i=_r(t,e),i!=null&&r.push(Nr(t,i,s))),t=t.return}return r}function an(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rl(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=_r(n,i),l!=null&&o.unshift(Nr(n,l,a))):s||(l=_r(n,i),l!=null&&o.push(Nr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var np=/\r\n?/g,rp=/\u0000|\uFFFD/g;function Al(t){return(typeof t=="string"?t:""+t).replace(np,`
`).replace(rp,"")}function ts(t,e,n){if(e=Al(e),Al(t)!==e&&n)throw Error(E(425))}function Rs(){}var So=null,xo=null;function jo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Eo=typeof setTimeout=="function"?setTimeout:void 0,sp=typeof clearTimeout=="function"?clearTimeout:void 0,$l=typeof Promise=="function"?Promise:void 0,ip=typeof queueMicrotask=="function"?queueMicrotask:typeof $l<"u"?function(t){return $l.resolve(null).then(t).catch(op)}:Eo;function op(t){setTimeout(function(){throw t})}function Ui(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),xr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xr(e)}function Nt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ll(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bn=Math.random().toString(36).slice(2),Ye="__reactFiber$"+Bn,Tr="__reactProps$"+Bn,ct="__reactContainer$"+Bn,Co="__reactEvents$"+Bn,ap="__reactListeners$"+Bn,lp="__reactHandles$"+Bn;function qt(t){var e=t[Ye];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ct]||n[Ye]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ll(t);t!==null;){if(n=t[Ye])return n;t=Ll(t)}return e}t=n,n=t.parentNode}return null}function Mr(t){return t=t[Ye]||t[ct],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function ni(t){return t[Tr]||null}var No=[],wn=-1;function $t(t){return{current:t}}function V(t){0>wn||(t.current=No[wn],No[wn]=null,wn--)}function H(t,e){wn++,No[wn]=t.current,t.current=e}var Rt={},he=$t(Rt),je=$t(!1),Yt=Rt;function Rn(t,e){var n=t.type.contextTypes;if(!n)return Rt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ee(t){return t=t.childContextTypes,t!=null}function As(){V(je),V(he)}function Dl(t,e,n){if(he.current!==Rt)throw Error(E(168));H(he,e),H(je,n)}function Dc(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,Vh(t)||"Unknown",s));return Q({},n,r)}function $s(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rt,Yt=he.current,H(he,t),H(je,je.current),!0}function Ul(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=Dc(t,e,Yt),r.__reactInternalMemoizedMergedChildContext=t,V(je),V(he),H(he,t)):V(je),H(je,n)}var it=null,ri=!1,Mi=!1;function Uc(t){it===null?it=[t]:it.push(t)}function up(t){ri=!0,Uc(t)}function Lt(){if(!Mi&&it!==null){Mi=!0;var t=0,e=z;try{var n=it;for(z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}it=null,ri=!1}catch(s){throw it!==null&&(it=it.slice(t+1)),uc(ma,Lt),s}finally{z=e,Mi=!1}}return null}var _n=[],kn=0,Ls=null,Ds=0,Re=[],Ae=0,Xt=null,ot=1,at="";function Bt(t,e){_n[kn++]=Ds,_n[kn++]=Ls,Ls=t,Ds=e}function Mc(t,e,n){Re[Ae++]=ot,Re[Ae++]=at,Re[Ae++]=Xt,Xt=t;var r=ot;t=at;var s=32-qe(r)-1;r&=~(1<<s),n+=1;var i=32-qe(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ot=1<<32-qe(e)+s|n<<s|r,at=i+t}else ot=1<<i|n<<s|r,at=t}function ja(t){t.return!==null&&(Bt(t,1),Mc(t,1,0))}function Ea(t){for(;t===Ls;)Ls=_n[--kn],_n[kn]=null,Ds=_n[--kn],_n[kn]=null;for(;t===Xt;)Xt=Re[--Ae],Re[Ae]=null,at=Re[--Ae],Re[Ae]=null,ot=Re[--Ae],Re[Ae]=null}var Pe=null,Te=null,q=!1,Ve=null;function zc(t,e){var n=$e(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ml(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pe=t,Te=Nt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pe=t,Te=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xt!==null?{id:ot,overflow:at}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$e(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pe=t,Te=null,!0):!1;default:return!1}}function To(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Po(t){if(q){var e=Te;if(e){var n=e;if(!Ml(t,e)){if(To(t))throw Error(E(418));e=Nt(n.nextSibling);var r=Pe;e&&Ml(t,e)?zc(r,n):(t.flags=t.flags&-4097|2,q=!1,Pe=t)}}else{if(To(t))throw Error(E(418));t.flags=t.flags&-4097|2,q=!1,Pe=t}}}function zl(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pe=t}function ns(t){if(t!==Pe)return!1;if(!q)return zl(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jo(t.type,t.memoizedProps)),e&&(e=Te)){if(To(t))throw Fc(),Error(E(418));for(;e;)zc(t,e),e=Nt(e.nextSibling)}if(zl(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Te=Nt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Te=null}}else Te=Pe?Nt(t.stateNode.nextSibling):null;return!0}function Fc(){for(var t=Te;t;)t=Nt(t.nextSibling)}function An(){Te=Pe=null,q=!1}function Ca(t){Ve===null?Ve=[t]:Ve.push(t)}var cp=ft.ReactCurrentBatchConfig;function Yn(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function rs(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fl(t){var e=t._init;return e(t._payload)}function Bc(t){function e(g,m){if(t){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Ot(g,m),g.index=0,g.sibling=null,g}function i(g,m,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=2,m):p):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,p,w){return m===null||m.tag!==6?(m=qi(p,g.mode,w),m.return=g,m):(m=s(m,p),m.return=g,m)}function l(g,m,p,w){var k=p.type;return k===pn?d(g,m,p.props.children,w,p.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===gt&&Fl(k)===m.type)?(w=s(m,p.props),w.ref=Yn(g,m,p),w.return=g,w):(w=js(p.type,p.key,p.props,null,g.mode,w),w.ref=Yn(g,m,p),w.return=g,w)}function u(g,m,p,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Gi(p,g.mode,w),m.return=g,m):(m=s(m,p.children||[]),m.return=g,m)}function d(g,m,p,w,k){return m===null||m.tag!==7?(m=Jt(p,g.mode,w,k),m.return=g,m):(m=s(m,p),m.return=g,m)}function h(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=qi(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case qr:return p=js(m.type,m.key,m.props,null,g.mode,p),p.ref=Yn(g,null,m),p.return=g,p;case fn:return m=Gi(m,g.mode,p),m.return=g,m;case gt:var w=m._init;return h(g,w(m._payload),p)}if(nr(m)||qn(m))return m=Jt(m,g.mode,p,null),m.return=g,m;rs(g,m)}return null}function f(g,m,p,w){var k=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return k!==null?null:a(g,m,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case qr:return p.key===k?l(g,m,p,w):null;case fn:return p.key===k?u(g,m,p,w):null;case gt:return k=p._init,f(g,m,k(p._payload),w)}if(nr(p)||qn(p))return k!==null?null:d(g,m,p,w,null);rs(g,p)}return null}function v(g,m,p,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(p)||null,a(m,g,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qr:return g=g.get(w.key===null?p:w.key)||null,l(m,g,w,k);case fn:return g=g.get(w.key===null?p:w.key)||null,u(m,g,w,k);case gt:var x=w._init;return v(g,m,p,x(w._payload),k)}if(nr(w)||qn(w))return g=g.get(p)||null,d(m,g,w,k,null);rs(m,w)}return null}function y(g,m,p,w){for(var k=null,x=null,N=m,j=m=0,$=null;N!==null&&j<p.length;j++){N.index>j?($=N,N=null):$=N.sibling;var R=f(g,N,p[j],w);if(R===null){N===null&&(N=$);break}t&&N&&R.alternate===null&&e(g,N),m=i(R,m,j),x===null?k=R:x.sibling=R,x=R,N=$}if(j===p.length)return n(g,N),q&&Bt(g,j),k;if(N===null){for(;j<p.length;j++)N=h(g,p[j],w),N!==null&&(m=i(N,m,j),x===null?k=N:x.sibling=N,x=N);return q&&Bt(g,j),k}for(N=r(g,N);j<p.length;j++)$=v(N,g,j,p[j],w),$!==null&&(t&&$.alternate!==null&&N.delete($.key===null?j:$.key),m=i($,m,j),x===null?k=$:x.sibling=$,x=$);return t&&N.forEach(function(X){return e(g,X)}),q&&Bt(g,j),k}function _(g,m,p,w){var k=qn(p);if(typeof k!="function")throw Error(E(150));if(p=k.call(p),p==null)throw Error(E(151));for(var x=k=null,N=m,j=m=0,$=null,R=p.next();N!==null&&!R.done;j++,R=p.next()){N.index>j?($=N,N=null):$=N.sibling;var X=f(g,N,R.value,w);if(X===null){N===null&&(N=$);break}t&&N&&X.alternate===null&&e(g,N),m=i(X,m,j),x===null?k=X:x.sibling=X,x=X,N=$}if(R.done)return n(g,N),q&&Bt(g,j),k;if(N===null){for(;!R.done;j++,R=p.next())R=h(g,R.value,w),R!==null&&(m=i(R,m,j),x===null?k=R:x.sibling=R,x=R);return q&&Bt(g,j),k}for(N=r(g,N);!R.done;j++,R=p.next())R=v(N,g,j,R.value,w),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?j:R.key),m=i(R,m,j),x===null?k=R:x.sibling=R,x=R);return t&&N.forEach(function(we){return e(g,we)}),q&&Bt(g,j),k}function C(g,m,p,w){if(typeof p=="object"&&p!==null&&p.type===pn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case qr:e:{for(var k=p.key,x=m;x!==null;){if(x.key===k){if(k=p.type,k===pn){if(x.tag===7){n(g,x.sibling),m=s(x,p.props.children),m.return=g,g=m;break e}}else if(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===gt&&Fl(k)===x.type){n(g,x.sibling),m=s(x,p.props),m.ref=Yn(g,x,p),m.return=g,g=m;break e}n(g,x);break}else e(g,x);x=x.sibling}p.type===pn?(m=Jt(p.props.children,g.mode,w,p.key),m.return=g,g=m):(w=js(p.type,p.key,p.props,null,g.mode,w),w.ref=Yn(g,m,p),w.return=g,g=w)}return o(g);case fn:e:{for(x=p.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(g,m.sibling),m=s(m,p.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Gi(p,g.mode,w),m.return=g,g=m}return o(g);case gt:return x=p._init,C(g,m,x(p._payload),w)}if(nr(p))return y(g,m,p,w);if(qn(p))return _(g,m,p,w);rs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,p),m.return=g,g=m):(n(g,m),m=qi(p,g.mode,w),m.return=g,g=m),o(g)):n(g,m)}return C}var $n=Bc(!0),Hc=Bc(!1),Us=$t(null),Ms=null,Sn=null,Na=null;function Ta(){Na=Sn=Ms=null}function Pa(t){var e=Us.current;V(Us),t._currentValue=e}function bo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pn(t,e){Ms=t,Na=Sn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xe=!0),t.firstContext=null)}function Ue(t){var e=t._currentValue;if(Na!==t)if(t={context:t,memoizedValue:e,next:null},Sn===null){if(Ms===null)throw Error(E(308));Sn=t,Ms.dependencies={lanes:0,firstContext:t}}else Sn=Sn.next=t;return e}var Gt=null;function ba(t){Gt===null?Gt=[t]:Gt.push(t)}function Wc(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ba(e)):(n.next=s.next,s.next=n),e.interleaved=n,dt(t,r)}function dt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vt=!1;function Oa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,M&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,dt(t,n)}return s=r.interleaved,s===null?(e.next=e,ba(r)):(e.next=s.next,s.next=e),r.interleaved=e,dt(t,n)}function ys(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ga(t,n)}}function Bl(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zs(t,e,n,r){var s=t.updateQueue;vt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,v=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,_=a;switch(f=e,v=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=Q({},h,f);break e;case 2:vt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=h):d=d.next=v,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);en|=o,t.lanes=o,t.memoizedState=h}}function Hl(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var zr={},et=$t(zr),Pr=$t(zr),br=$t(zr);function Kt(t){if(t===zr)throw Error(E(174));return t}function Ia(t,e){switch(H(br,e),H(Pr,t),H(et,zr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uo(e,t)}V(et),H(et,e)}function Ln(){V(et),V(Pr),V(br)}function qc(t){Kt(br.current);var e=Kt(et.current),n=uo(e,t.type);e!==n&&(H(Pr,t),H(et,n))}function Ra(t){Pr.current===t&&(V(et),V(Pr))}var G=$t(0);function Fs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zi=[];function Aa(){for(var t=0;t<zi.length;t++)zi[t]._workInProgressVersionPrimary=null;zi.length=0}var ws=ft.ReactCurrentDispatcher,Fi=ft.ReactCurrentBatchConfig,Zt=0,K=null,te=null,se=null,Bs=!1,dr=!1,Or=0,dp=0;function ue(){throw Error(E(321))}function $a(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ke(t[n],e[n]))return!1;return!0}function La(t,e,n,r,s,i){if(Zt=i,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ws.current=t===null||t.memoizedState===null?mp:gp,t=n(r,s),dr){i=0;do{if(dr=!1,Or=0,25<=i)throw Error(E(301));i+=1,se=te=null,e.updateQueue=null,ws.current=vp,t=n(r,s)}while(dr)}if(ws.current=Hs,e=te!==null&&te.next!==null,Zt=0,se=te=K=null,Bs=!1,e)throw Error(E(300));return t}function Da(){var t=Or!==0;return Or=0,t}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?K.memoizedState=se=t:se=se.next=t,se}function Me(){if(te===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var e=se===null?K.memoizedState:se.next;if(e!==null)se=e,te=t;else{if(t===null)throw Error(E(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},se===null?K.memoizedState=se=t:se=se.next=t}return se}function Ir(t,e){return typeof e=="function"?e(t):e}function Bi(t){var e=Me(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=te,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Zt&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,K.lanes|=d,en|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Ke(r,e.memoizedState)||(xe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,K.lanes|=i,en|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hi(t){var e=Me(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ke(i,e.memoizedState)||(xe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Gc(){}function Kc(t,e){var n=K,r=Me(),s=e(),i=!Ke(r.memoizedState,s);if(i&&(r.memoizedState=s,xe=!0),r=r.queue,Ua(Yc.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||se!==null&&se.memoizedState.tag&1){if(n.flags|=2048,Rr(9,Jc.bind(null,n,r,s,e),void 0,null),ie===null)throw Error(E(349));Zt&30||Qc(n,e,s)}return s}function Qc(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Jc(t,e,n,r){e.value=n,e.getSnapshot=r,Xc(e)&&Zc(t)}function Yc(t,e,n){return n(function(){Xc(e)&&Zc(t)})}function Xc(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ke(t,n)}catch{return!0}}function Zc(t){var e=dt(t,1);e!==null&&Ge(e,t,1,-1)}function Wl(t){var e=Je();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:t},e.queue=t,t=t.dispatch=pp.bind(null,K,t),[e.memoizedState,t]}function Rr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ed(){return Me().memoizedState}function _s(t,e,n,r){var s=Je();K.flags|=t,s.memoizedState=Rr(1|e,n,void 0,r===void 0?null:r)}function si(t,e,n,r){var s=Me();r=r===void 0?null:r;var i=void 0;if(te!==null){var o=te.memoizedState;if(i=o.destroy,r!==null&&$a(r,o.deps)){s.memoizedState=Rr(e,n,i,r);return}}K.flags|=t,s.memoizedState=Rr(1|e,n,i,r)}function Vl(t,e){return _s(8390656,8,t,e)}function Ua(t,e){return si(2048,8,t,e)}function td(t,e){return si(4,2,t,e)}function nd(t,e){return si(4,4,t,e)}function rd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sd(t,e,n){return n=n!=null?n.concat([t]):null,si(4,4,rd.bind(null,e,t),n)}function Ma(){}function id(t,e){var n=Me();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$a(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function od(t,e){var n=Me();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$a(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ad(t,e,n){return Zt&21?(Ke(n,e)||(n=hc(),K.lanes|=n,en|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xe=!0),t.memoizedState=n)}function hp(t,e){var n=z;z=n!==0&&4>n?n:4,t(!0);var r=Fi.transition;Fi.transition={};try{t(!1),e()}finally{z=n,Fi.transition=r}}function ld(){return Me().memoizedState}function fp(t,e,n){var r=bt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ud(t))cd(e,n);else if(n=Wc(t,e,n,r),n!==null){var s=ge();Ge(n,t,r,s),dd(n,e,r)}}function pp(t,e,n){var r=bt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ud(t))cd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ke(a,o)){var l=e.interleaved;l===null?(s.next=s,ba(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Wc(t,e,s,r),n!==null&&(s=ge(),Ge(n,t,r,s),dd(n,e,r))}}function ud(t){var e=t.alternate;return t===K||e!==null&&e===K}function cd(t,e){dr=Bs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ga(t,n)}}var Hs={readContext:Ue,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useInsertionEffect:ue,useLayoutEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useMutableSource:ue,useSyncExternalStore:ue,useId:ue,unstable_isNewReconciler:!1},mp={readContext:Ue,useCallback:function(t,e){return Je().memoizedState=[t,e===void 0?null:e],t},useContext:Ue,useEffect:Vl,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_s(4194308,4,rd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _s(4194308,4,t,e)},useInsertionEffect:function(t,e){return _s(4,2,t,e)},useMemo:function(t,e){var n=Je();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Je();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fp.bind(null,K,t),[r.memoizedState,t]},useRef:function(t){var e=Je();return t={current:t},e.memoizedState=t},useState:Wl,useDebugValue:Ma,useDeferredValue:function(t){return Je().memoizedState=t},useTransition:function(){var t=Wl(!1),e=t[0];return t=hp.bind(null,t[1]),Je().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=K,s=Je();if(q){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),ie===null)throw Error(E(349));Zt&30||Qc(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Vl(Yc.bind(null,r,i,t),[t]),r.flags|=2048,Rr(9,Jc.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Je(),e=ie.identifierPrefix;if(q){var n=at,r=ot;n=(r&~(1<<32-qe(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Or++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gp={readContext:Ue,useCallback:id,useContext:Ue,useEffect:Ua,useImperativeHandle:sd,useInsertionEffect:td,useLayoutEffect:nd,useMemo:od,useReducer:Bi,useRef:ed,useState:function(){return Bi(Ir)},useDebugValue:Ma,useDeferredValue:function(t){var e=Me();return ad(e,te.memoizedState,t)},useTransition:function(){var t=Bi(Ir)[0],e=Me().memoizedState;return[t,e]},useMutableSource:Gc,useSyncExternalStore:Kc,useId:ld,unstable_isNewReconciler:!1},vp={readContext:Ue,useCallback:id,useContext:Ue,useEffect:Ua,useImperativeHandle:sd,useInsertionEffect:td,useLayoutEffect:nd,useMemo:od,useReducer:Hi,useRef:ed,useState:function(){return Hi(Ir)},useDebugValue:Ma,useDeferredValue:function(t){var e=Me();return te===null?e.memoizedState=t:ad(e,te.memoizedState,t)},useTransition:function(){var t=Hi(Ir)[0],e=Me().memoizedState;return[t,e]},useMutableSource:Gc,useSyncExternalStore:Kc,useId:ld,unstable_isNewReconciler:!1};function Be(t,e){if(t&&t.defaultProps){e=Q({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Oo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Q({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ii={isMounted:function(t){return(t=t._reactInternals)?rn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ge(),s=bt(t),i=lt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Tt(t,i,s),e!==null&&(Ge(e,t,s,r),ys(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ge(),s=bt(t),i=lt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Tt(t,i,s),e!==null&&(Ge(e,t,s,r),ys(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ge(),r=bt(t),s=lt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Tt(t,s,r),e!==null&&(Ge(e,t,r,n),ys(e,t,r))}};function ql(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Er(n,r)||!Er(s,i):!0}function hd(t,e,n){var r=!1,s=Rt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ue(i):(s=Ee(e)?Yt:he.current,r=e.contextTypes,i=(r=r!=null)?Rn(t,s):Rt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ii,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Gl(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ii.enqueueReplaceState(e,e.state,null)}function Io(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Oa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ue(i):(i=Ee(e)?Yt:he.current,s.context=Rn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Oo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ii.enqueueReplaceState(s,s.state,null),zs(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Dn(t,e){try{var n="",r=e;do n+=Wh(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Wi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ro(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yp=typeof WeakMap=="function"?WeakMap:Map;function fd(t,e,n){n=lt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vs||(Vs=!0,Ho=r),Ro(t,e)},n}function pd(t,e,n){n=lt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ro(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ro(t,e),typeof r!="function"&&(Pt===null?Pt=new Set([this]):Pt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Kl(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Ip.bind(null,t,e,n),e.then(t,t))}function Ql(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jl(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lt(-1,1),e.tag=2,Tt(n,e,1))),n.lanes|=1),t)}var wp=ft.ReactCurrentOwner,xe=!1;function me(t,e,n,r){e.child=t===null?Hc(e,null,n,r):$n(e,t.child,n,r)}function Yl(t,e,n,r,s){n=n.render;var i=e.ref;return Pn(e,s),r=La(t,e,n,r,i,s),n=Da(),t!==null&&!xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ht(t,e,s)):(q&&n&&ja(e),e.flags|=1,me(t,e,r,s),e.child)}function Xl(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ga(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,md(t,e,i,r,s)):(t=js(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Er,n(o,r)&&t.ref===e.ref)return ht(t,e,s)}return e.flags|=1,t=Ot(i,r),t.ref=e.ref,t.return=e,e.child=t}function md(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Er(i,r)&&t.ref===e.ref)if(xe=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(xe=!0);else return e.lanes=t.lanes,ht(t,e,s)}return Ao(t,e,n,r,s)}function gd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(jn,Ne),Ne|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,H(jn,Ne),Ne|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,H(jn,Ne),Ne|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,H(jn,Ne),Ne|=r;return me(t,e,s,n),e.child}function vd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ao(t,e,n,r,s){var i=Ee(n)?Yt:he.current;return i=Rn(e,i),Pn(e,s),n=La(t,e,n,r,i,s),r=Da(),t!==null&&!xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ht(t,e,s)):(q&&r&&ja(e),e.flags|=1,me(t,e,n,s),e.child)}function Zl(t,e,n,r,s){if(Ee(n)){var i=!0;$s(e)}else i=!1;if(Pn(e,s),e.stateNode===null)ks(t,e),hd(e,n,r),Io(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ue(u):(u=Ee(n)?Yt:he.current,u=Rn(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Gl(e,o,r,u),vt=!1;var f=e.memoizedState;o.state=f,zs(e,r,o,s),l=e.memoizedState,a!==r||f!==l||je.current||vt?(typeof d=="function"&&(Oo(e,n,d,r),l=e.memoizedState),(a=vt||ql(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Vc(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Be(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ue(l):(l=Ee(n)?Yt:he.current,l=Rn(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Gl(e,o,r,l),vt=!1,f=e.memoizedState,o.state=f,zs(e,r,o,s);var y=e.memoizedState;a!==h||f!==y||je.current||vt?(typeof v=="function"&&(Oo(e,n,v,r),y=e.memoizedState),(u=vt||ql(e,n,u,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return $o(t,e,n,r,i,s)}function $o(t,e,n,r,s,i){vd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ul(e,n,!1),ht(t,e,i);r=e.stateNode,wp.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$n(e,t.child,null,i),e.child=$n(e,null,a,i)):me(t,e,a,i),e.memoizedState=r.state,s&&Ul(e,n,!0),e.child}function yd(t){var e=t.stateNode;e.pendingContext?Dl(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dl(t,e.context,!1),Ia(t,e.containerInfo)}function eu(t,e,n,r,s){return An(),Ca(s),e.flags|=256,me(t,e,n,r),e.child}var Lo={dehydrated:null,treeContext:null,retryLane:0};function Do(t){return{baseLanes:t,cachePool:null,transitions:null}}function wd(t,e,n){var r=e.pendingProps,s=G.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),H(G,s&1),t===null)return Po(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=li(o,r,0,null),t=Jt(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Do(n),e.memoizedState=Lo,t):za(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return _p(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ot(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ot(a,i):(i=Jt(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Do(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Lo,r}return i=t.child,t=i.sibling,r=Ot(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function za(t,e){return e=li({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ss(t,e,n,r){return r!==null&&Ca(r),$n(e,t.child,null,n),t=za(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _p(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Wi(Error(E(422))),ss(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=li({mode:"visible",children:r.children},s,0,null),i=Jt(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$n(e,t.child,null,o),e.child.memoizedState=Do(o),e.memoizedState=Lo,i);if(!(e.mode&1))return ss(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(E(419)),r=Wi(i,r,void 0),ss(t,e,o,r)}if(a=(o&t.childLanes)!==0,xe||a){if(r=ie,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,dt(t,s),Ge(r,t,s,-1))}return qa(),r=Wi(Error(E(421))),ss(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Rp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Te=Nt(s.nextSibling),Pe=e,q=!0,Ve=null,t!==null&&(Re[Ae++]=ot,Re[Ae++]=at,Re[Ae++]=Xt,ot=t.id,at=t.overflow,Xt=e),e=za(e,r.children),e.flags|=4096,e)}function tu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bo(t.return,e,n)}function Vi(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function _d(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(me(t,e,r.children,n),r=G.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tu(t,n,e);else if(t.tag===19)tu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(H(G,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Fs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Vi(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Fs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Vi(e,!0,n,null,i);break;case"together":Vi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ks(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ht(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),en|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Ot(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ot(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kp(t,e,n){switch(e.tag){case 3:yd(e),An();break;case 5:qc(e);break;case 1:Ee(e.type)&&$s(e);break;case 4:Ia(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;H(Us,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(H(G,G.current&1),e.flags|=128,null):n&e.child.childLanes?wd(t,e,n):(H(G,G.current&1),t=ht(t,e,n),t!==null?t.sibling:null);H(G,G.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _d(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(G,G.current),r)break;return null;case 22:case 23:return e.lanes=0,gd(t,e,n)}return ht(t,e,n)}var kd,Uo,Sd,xd;kd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uo=function(){};Sd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Kt(et.current);var i=null;switch(n){case"input":s=io(t,s),r=io(t,r),i=[];break;case"select":s=Q({},s,{value:void 0}),r=Q({},r,{value:void 0}),i=[];break;case"textarea":s=lo(t,s),r=lo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rs)}co(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&W("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};xd=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xn(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Sp(t,e,n){var r=e.pendingProps;switch(Ea(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(e),null;case 1:return Ee(e.type)&&As(),ce(e),null;case 3:return r=e.stateNode,Ln(),V(je),V(he),Aa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ns(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ve!==null&&(qo(Ve),Ve=null))),Uo(t,e),ce(e),null;case 5:Ra(e);var s=Kt(br.current);if(n=e.type,t!==null&&e.stateNode!=null)Sd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return ce(e),null}if(t=Kt(et.current),ns(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ye]=e,r[Tr]=i,t=(e.mode&1)!==0,n){case"dialog":W("cancel",r),W("close",r);break;case"iframe":case"object":case"embed":W("load",r);break;case"video":case"audio":for(s=0;s<sr.length;s++)W(sr[s],r);break;case"source":W("error",r);break;case"img":case"image":case"link":W("error",r),W("load",r);break;case"details":W("toggle",r);break;case"input":cl(r,i),W("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},W("invalid",r);break;case"textarea":hl(r,i),W("invalid",r)}co(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ts(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ts(r.textContent,a,t),s=["children",""+a]):yr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&W("scroll",r)}switch(n){case"input":Gr(r),dl(r,i,!0);break;case"textarea":Gr(r),fl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Rs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yu(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ye]=e,t[Tr]=r,kd(t,e,!1,!1),e.stateNode=t;e:{switch(o=ho(n,r),n){case"dialog":W("cancel",t),W("close",t),s=r;break;case"iframe":case"object":case"embed":W("load",t),s=r;break;case"video":case"audio":for(s=0;s<sr.length;s++)W(sr[s],t);s=r;break;case"source":W("error",t),s=r;break;case"img":case"image":case"link":W("error",t),W("load",t),s=r;break;case"details":W("toggle",t),s=r;break;case"input":cl(t,r),s=io(t,r),W("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Q({},r,{value:void 0}),W("invalid",t);break;case"textarea":hl(t,r),s=lo(t,r),W("invalid",t);break;default:s=r}co(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ec(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xu(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wr(t,l):typeof l=="number"&&wr(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&W("scroll",t):l!=null&&ca(t,i,l,o))}switch(n){case"input":Gr(t),dl(t,r,!1);break;case"textarea":Gr(t),fl(t);break;case"option":r.value!=null&&t.setAttribute("value",""+It(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?En(t,!!r.multiple,i,!1):r.defaultValue!=null&&En(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Rs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ce(e),null;case 6:if(t&&e.stateNode!=null)xd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=Kt(br.current),Kt(et.current),ns(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ye]=e,(i=r.nodeValue!==n)&&(t=Pe,t!==null))switch(t.tag){case 3:ts(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ts(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ye]=e,e.stateNode=r}return ce(e),null;case 13:if(V(G),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Te!==null&&e.mode&1&&!(e.flags&128))Fc(),An(),e.flags|=98560,i=!1;else if(i=ns(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[Ye]=e}else An(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ce(e),i=!1}else Ve!==null&&(qo(Ve),Ve=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||G.current&1?ne===0&&(ne=3):qa())),e.updateQueue!==null&&(e.flags|=4),ce(e),null);case 4:return Ln(),Uo(t,e),t===null&&Cr(e.stateNode.containerInfo),ce(e),null;case 10:return Pa(e.type._context),ce(e),null;case 17:return Ee(e.type)&&As(),ce(e),null;case 19:if(V(G),i=e.memoizedState,i===null)return ce(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Xn(i,!1);else{if(ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Fs(t),o!==null){for(e.flags|=128,Xn(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return H(G,G.current&1|2),e.child}t=t.sibling}i.tail!==null&&Y()>Un&&(e.flags|=128,r=!0,Xn(i,!1),e.lanes=4194304)}else{if(!r)if(t=Fs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!q)return ce(e),null}else 2*Y()-i.renderingStartTime>Un&&n!==1073741824&&(e.flags|=128,r=!0,Xn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Y(),e.sibling=null,n=G.current,H(G,r?n&1|2:n&1),e):(ce(e),null);case 22:case 23:return Va(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ne&1073741824&&(ce(e),e.subtreeFlags&6&&(e.flags|=8192)):ce(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function xp(t,e){switch(Ea(e),e.tag){case 1:return Ee(e.type)&&As(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ln(),V(je),V(he),Aa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ra(e),null;case 13:if(V(G),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));An()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return V(G),null;case 4:return Ln(),null;case 10:return Pa(e.type._context),null;case 22:case 23:return Va(),null;case 24:return null;default:return null}}var is=!1,de=!1,jp=typeof WeakSet=="function"?WeakSet:Set,P=null;function xn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){J(t,e,r)}else n.current=null}function Mo(t,e,n){try{n()}catch(r){J(t,e,r)}}var nu=!1;function Ep(t,e){if(So=bs,t=Tc(),xa(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xo={focusedElem:t,selectionRange:n},bs=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,C=y.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:Be(e.type,_),C);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){J(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return y=nu,nu=!1,y}function hr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Mo(e,n,i)}s=s.next}while(s!==r)}}function oi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jd(t){var e=t.alternate;e!==null&&(t.alternate=null,jd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ye],delete e[Tr],delete e[Co],delete e[ap],delete e[lp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ed(t){return t.tag===5||t.tag===3||t.tag===4}function ru(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ed(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rs));else if(r!==4&&(t=t.child,t!==null))for(Fo(t,e,n),t=t.sibling;t!==null;)Fo(t,e,n),t=t.sibling}function Bo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bo(t,e,n),t=t.sibling;t!==null;)Bo(t,e,n),t=t.sibling}var oe=null,He=!1;function pt(t,e,n){for(n=n.child;n!==null;)Cd(t,e,n),n=n.sibling}function Cd(t,e,n){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(Xs,n)}catch{}switch(n.tag){case 5:de||xn(n,e);case 6:var r=oe,s=He;oe=null,pt(t,e,n),oe=r,He=s,oe!==null&&(He?(t=oe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):oe.removeChild(n.stateNode));break;case 18:oe!==null&&(He?(t=oe,n=n.stateNode,t.nodeType===8?Ui(t.parentNode,n):t.nodeType===1&&Ui(t,n),xr(t)):Ui(oe,n.stateNode));break;case 4:r=oe,s=He,oe=n.stateNode.containerInfo,He=!0,pt(t,e,n),oe=r,He=s;break;case 0:case 11:case 14:case 15:if(!de&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Mo(n,e,o),s=s.next}while(s!==r)}pt(t,e,n);break;case 1:if(!de&&(xn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){J(n,e,a)}pt(t,e,n);break;case 21:pt(t,e,n);break;case 22:n.mode&1?(de=(r=de)||n.memoizedState!==null,pt(t,e,n),de=r):pt(t,e,n);break;default:pt(t,e,n)}}function su(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jp),e.forEach(function(r){var s=Ap.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ze(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:oe=a.stateNode,He=!1;break e;case 3:oe=a.stateNode.containerInfo,He=!0;break e;case 4:oe=a.stateNode.containerInfo,He=!0;break e}a=a.return}if(oe===null)throw Error(E(160));Cd(i,o,s),oe=null,He=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){J(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Nd(e,t),e=e.sibling}function Nd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ze(e,t),Qe(t),r&4){try{hr(3,t,t.return),oi(3,t)}catch(_){J(t,t.return,_)}try{hr(5,t,t.return)}catch(_){J(t,t.return,_)}}break;case 1:ze(e,t),Qe(t),r&512&&n!==null&&xn(n,n.return);break;case 5:if(ze(e,t),Qe(t),r&512&&n!==null&&xn(n,n.return),t.flags&32){var s=t.stateNode;try{wr(s,"")}catch(_){J(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Qu(s,i),ho(a,o);var u=ho(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?ec(s,h):d==="dangerouslySetInnerHTML"?Xu(s,h):d==="children"?wr(s,h):ca(s,d,h,u)}switch(a){case"input":oo(s,i);break;case"textarea":Ju(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?En(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?En(s,!!i.multiple,i.defaultValue,!0):En(s,!!i.multiple,i.multiple?[]:"",!1))}s[Tr]=i}catch(_){J(t,t.return,_)}}break;case 6:if(ze(e,t),Qe(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){J(t,t.return,_)}}break;case 3:if(ze(e,t),Qe(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xr(e.containerInfo)}catch(_){J(t,t.return,_)}break;case 4:ze(e,t),Qe(t);break;case 13:ze(e,t),Qe(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ha=Y())),r&4&&su(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(de=(u=de)||d,ze(e,t),de=u):ze(e,t),Qe(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(P=t,d=t.child;d!==null;){for(h=P=d;P!==null;){switch(f=P,v=f.child,f.tag){case 0:case 11:case 14:case 15:hr(4,f,f.return);break;case 1:xn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){J(r,n,_)}}break;case 5:xn(f,f.return);break;case 22:if(f.memoizedState!==null){ou(h);continue}}v!==null?(v.return=f,P=v):ou(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Zu("display",o))}catch(_){J(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){J(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ze(e,t),Qe(t),r&4&&su(t);break;case 21:break;default:ze(e,t),Qe(t)}}function Qe(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ed(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(wr(s,""),r.flags&=-33);var i=ru(t);Bo(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ru(t);Fo(t,a,o);break;default:throw Error(E(161))}}catch(l){J(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Cp(t,e,n){P=t,Td(t)}function Td(t,e,n){for(var r=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||is;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||de;a=is;var u=de;if(is=o,(de=l)&&!u)for(P=s;P!==null;)o=P,l=o.child,o.tag===22&&o.memoizedState!==null?au(s):l!==null?(l.return=o,P=l):au(s);for(;i!==null;)P=i,Td(i),i=i.sibling;P=s,is=a,de=u}iu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):iu(t)}}function iu(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:de||oi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!de)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Be(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Hl(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hl(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&xr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}de||e.flags&512&&zo(e)}catch(f){J(e,e.return,f)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function ou(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function au(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{oi(4,e)}catch(l){J(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){J(e,s,l)}}var i=e.return;try{zo(e)}catch(l){J(e,i,l)}break;case 5:var o=e.return;try{zo(e)}catch(l){J(e,o,l)}}}catch(l){J(e,e.return,l)}if(e===t){P=null;break}var a=e.sibling;if(a!==null){a.return=e.return,P=a;break}P=e.return}}var Np=Math.ceil,Ws=ft.ReactCurrentDispatcher,Fa=ft.ReactCurrentOwner,Le=ft.ReactCurrentBatchConfig,M=0,ie=null,ee=null,ae=0,Ne=0,jn=$t(0),ne=0,Ar=null,en=0,ai=0,Ba=0,fr=null,ke=null,Ha=0,Un=1/0,rt=null,Vs=!1,Ho=null,Pt=null,os=!1,xt=null,qs=0,pr=0,Wo=null,Ss=-1,xs=0;function ge(){return M&6?Y():Ss!==-1?Ss:Ss=Y()}function bt(t){return t.mode&1?M&2&&ae!==0?ae&-ae:cp.transition!==null?(xs===0&&(xs=hc()),xs):(t=z,t!==0||(t=window.event,t=t===void 0?16:wc(t.type)),t):1}function Ge(t,e,n,r){if(50<pr)throw pr=0,Wo=null,Error(E(185));Dr(t,n,r),(!(M&2)||t!==ie)&&(t===ie&&(!(M&2)&&(ai|=n),ne===4&&_t(t,ae)),Ce(t,r),n===1&&M===0&&!(e.mode&1)&&(Un=Y()+500,ri&&Lt()))}function Ce(t,e){var n=t.callbackNode;cf(t,e);var r=Ps(t,t===ie?ae:0);if(r===0)n!==null&&gl(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gl(n),e===1)t.tag===0?up(lu.bind(null,t)):Uc(lu.bind(null,t)),ip(function(){!(M&6)&&Lt()}),n=null;else{switch(fc(r)){case 1:n=ma;break;case 4:n=cc;break;case 16:n=Ts;break;case 536870912:n=dc;break;default:n=Ts}n=Ld(n,Pd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Pd(t,e){if(Ss=-1,xs=0,M&6)throw Error(E(327));var n=t.callbackNode;if(bn()&&t.callbackNode!==n)return null;var r=Ps(t,t===ie?ae:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gs(t,r);else{e=r;var s=M;M|=2;var i=Od();(ie!==t||ae!==e)&&(rt=null,Un=Y()+500,Qt(t,e));do try{bp();break}catch(a){bd(t,a)}while(!0);Ta(),Ws.current=i,M=s,ee!==null?e=0:(ie=null,ae=0,e=ne)}if(e!==0){if(e===2&&(s=vo(t),s!==0&&(r=s,e=Vo(t,s))),e===1)throw n=Ar,Qt(t,0),_t(t,r),Ce(t,Y()),n;if(e===6)_t(t,r);else{if(s=t.current.alternate,!(r&30)&&!Tp(s)&&(e=Gs(t,r),e===2&&(i=vo(t),i!==0&&(r=i,e=Vo(t,i))),e===1))throw n=Ar,Qt(t,0),_t(t,r),Ce(t,Y()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:Ht(t,ke,rt);break;case 3:if(_t(t,r),(r&130023424)===r&&(e=Ha+500-Y(),10<e)){if(Ps(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ge(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Eo(Ht.bind(null,t,ke,rt),e);break}Ht(t,ke,rt);break;case 4:if(_t(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-qe(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Y()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Np(r/1960))-r,10<r){t.timeoutHandle=Eo(Ht.bind(null,t,ke,rt),r);break}Ht(t,ke,rt);break;case 5:Ht(t,ke,rt);break;default:throw Error(E(329))}}}return Ce(t,Y()),t.callbackNode===n?Pd.bind(null,t):null}function Vo(t,e){var n=fr;return t.current.memoizedState.isDehydrated&&(Qt(t,e).flags|=256),t=Gs(t,e),t!==2&&(e=ke,ke=n,e!==null&&qo(e)),t}function qo(t){ke===null?ke=t:ke.push.apply(ke,t)}function Tp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ke(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _t(t,e){for(e&=~Ba,e&=~ai,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qe(e),r=1<<n;t[n]=-1,e&=~r}}function lu(t){if(M&6)throw Error(E(327));bn();var e=Ps(t,0);if(!(e&1))return Ce(t,Y()),null;var n=Gs(t,e);if(t.tag!==0&&n===2){var r=vo(t);r!==0&&(e=r,n=Vo(t,r))}if(n===1)throw n=Ar,Qt(t,0),_t(t,e),Ce(t,Y()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ht(t,ke,rt),Ce(t,Y()),null}function Wa(t,e){var n=M;M|=1;try{return t(e)}finally{M=n,M===0&&(Un=Y()+500,ri&&Lt())}}function tn(t){xt!==null&&xt.tag===0&&!(M&6)&&bn();var e=M;M|=1;var n=Le.transition,r=z;try{if(Le.transition=null,z=1,t)return t()}finally{z=r,Le.transition=n,M=e,!(M&6)&&Lt()}}function Va(){Ne=jn.current,V(jn)}function Qt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sp(n)),ee!==null)for(n=ee.return;n!==null;){var r=n;switch(Ea(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&As();break;case 3:Ln(),V(je),V(he),Aa();break;case 5:Ra(r);break;case 4:Ln();break;case 13:V(G);break;case 19:V(G);break;case 10:Pa(r.type._context);break;case 22:case 23:Va()}n=n.return}if(ie=t,ee=t=Ot(t.current,null),ae=Ne=e,ne=0,Ar=null,Ba=ai=en=0,ke=fr=null,Gt!==null){for(e=0;e<Gt.length;e++)if(n=Gt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Gt=null}return t}function bd(t,e){do{var n=ee;try{if(Ta(),ws.current=Hs,Bs){for(var r=K.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bs=!1}if(Zt=0,se=te=K=null,dr=!1,Or=0,Fa.current=null,n===null||n.return===null){ne=1,Ar=e,ee=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ae,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Ql(o);if(v!==null){v.flags&=-257,Jl(v,o,a,i,e),v.mode&1&&Kl(i,u,e),e=v,l=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){Kl(i,u,e),qa();break e}l=Error(E(426))}}else if(q&&a.mode&1){var C=Ql(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Jl(C,o,a,i,e),Ca(Dn(l,a));break e}}i=l=Dn(l,a),ne!==4&&(ne=2),fr===null?fr=[i]:fr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=fd(i,l,e);Bl(i,g);break e;case 1:a=l;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Pt===null||!Pt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=pd(i,a,e);Bl(i,w);break e}}i=i.return}while(i!==null)}Rd(n)}catch(k){e=k,ee===n&&n!==null&&(ee=n=n.return);continue}break}while(!0)}function Od(){var t=Ws.current;return Ws.current=Hs,t===null?Hs:t}function qa(){(ne===0||ne===3||ne===2)&&(ne=4),ie===null||!(en&268435455)&&!(ai&268435455)||_t(ie,ae)}function Gs(t,e){var n=M;M|=2;var r=Od();(ie!==t||ae!==e)&&(rt=null,Qt(t,e));do try{Pp();break}catch(s){bd(t,s)}while(!0);if(Ta(),M=n,Ws.current=r,ee!==null)throw Error(E(261));return ie=null,ae=0,ne}function Pp(){for(;ee!==null;)Id(ee)}function bp(){for(;ee!==null&&!ef();)Id(ee)}function Id(t){var e=$d(t.alternate,t,Ne);t.memoizedProps=t.pendingProps,e===null?Rd(t):ee=e,Fa.current=null}function Rd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xp(n,e),n!==null){n.flags&=32767,ee=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ne=6,ee=null;return}}else if(n=Sp(n,e,Ne),n!==null){ee=n;return}if(e=e.sibling,e!==null){ee=e;return}ee=e=t}while(e!==null);ne===0&&(ne=5)}function Ht(t,e,n){var r=z,s=Le.transition;try{Le.transition=null,z=1,Op(t,e,n,r)}finally{Le.transition=s,z=r}return null}function Op(t,e,n,r){do bn();while(xt!==null);if(M&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(df(t,i),t===ie&&(ee=ie=null,ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||os||(os=!0,Ld(Ts,function(){return bn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Le.transition,Le.transition=null;var o=z;z=1;var a=M;M|=4,Fa.current=null,Ep(t,n),Nd(n,t),Yf(xo),bs=!!So,xo=So=null,t.current=n,Cp(n),tf(),M=a,z=o,Le.transition=i}else t.current=n;if(os&&(os=!1,xt=t,qs=s),i=t.pendingLanes,i===0&&(Pt=null),sf(n.stateNode),Ce(t,Y()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vs)throw Vs=!1,t=Ho,Ho=null,t;return qs&1&&t.tag!==0&&bn(),i=t.pendingLanes,i&1?t===Wo?pr++:(pr=0,Wo=t):pr=0,Lt(),null}function bn(){if(xt!==null){var t=fc(qs),e=Le.transition,n=z;try{if(Le.transition=null,z=16>t?16:t,xt===null)var r=!1;else{if(t=xt,xt=null,qs=0,M&6)throw Error(E(331));var s=M;for(M|=4,P=t.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(P=u;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:hr(8,d,i)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var f=d.sibling,v=d.return;if(jd(d),d===u){P=null;break}if(f!==null){f.return=v,P=f;break}P=v}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var C=_.sibling;_.sibling=null,_=C}while(_!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,P=g;break e}P=i.return}}var m=t.current;for(P=m;P!==null;){o=P;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,P=p;else e:for(o=m;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:oi(9,a)}}catch(k){J(a,a.return,k)}if(a===o){P=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,P=w;break e}P=a.return}}if(M=s,Lt(),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(Xs,t)}catch{}r=!0}return r}finally{z=n,Le.transition=e}}return!1}function uu(t,e,n){e=Dn(n,e),e=fd(t,e,1),t=Tt(t,e,1),e=ge(),t!==null&&(Dr(t,1,e),Ce(t,e))}function J(t,e,n){if(t.tag===3)uu(t,t,n);else for(;e!==null;){if(e.tag===3){uu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pt===null||!Pt.has(r))){t=Dn(n,t),t=pd(e,t,1),e=Tt(e,t,1),t=ge(),e!==null&&(Dr(e,1,t),Ce(e,t));break}}e=e.return}}function Ip(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ge(),t.pingedLanes|=t.suspendedLanes&n,ie===t&&(ae&n)===n&&(ne===4||ne===3&&(ae&130023424)===ae&&500>Y()-Ha?Qt(t,0):Ba|=n),Ce(t,e)}function Ad(t,e){e===0&&(t.mode&1?(e=Jr,Jr<<=1,!(Jr&130023424)&&(Jr=4194304)):e=1);var n=ge();t=dt(t,e),t!==null&&(Dr(t,e,n),Ce(t,n))}function Rp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ad(t,n)}function Ap(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),Ad(t,n)}var $d;$d=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||je.current)xe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xe=!1,kp(t,e,n);xe=!!(t.flags&131072)}else xe=!1,q&&e.flags&1048576&&Mc(e,Ds,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ks(t,e),t=e.pendingProps;var s=Rn(e,he.current);Pn(e,n),s=La(null,e,r,t,s,n);var i=Da();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ee(r)?(i=!0,$s(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Oa(e),s.updater=ii,e.stateNode=s,s._reactInternals=e,Io(e,r,t,n),e=$o(null,e,r,!0,i,n)):(e.tag=0,q&&i&&ja(e),me(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ks(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Lp(r),t=Be(r,t),s){case 0:e=Ao(null,e,r,t,n);break e;case 1:e=Zl(null,e,r,t,n);break e;case 11:e=Yl(null,e,r,t,n);break e;case 14:e=Xl(null,e,r,Be(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),Ao(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),Zl(t,e,r,s,n);case 3:e:{if(yd(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Vc(t,e),zs(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Dn(Error(E(423)),e),e=eu(t,e,r,n,s);break e}else if(r!==s){s=Dn(Error(E(424)),e),e=eu(t,e,r,n,s);break e}else for(Te=Nt(e.stateNode.containerInfo.firstChild),Pe=e,q=!0,Ve=null,n=Hc(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(An(),r===s){e=ht(t,e,n);break e}me(t,e,r,n)}e=e.child}return e;case 5:return qc(e),t===null&&Po(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,jo(r,s)?o=null:i!==null&&jo(r,i)&&(e.flags|=32),vd(t,e),me(t,e,o,n),e.child;case 6:return t===null&&Po(e),null;case 13:return wd(t,e,n);case 4:return Ia(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$n(e,null,r,n):me(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),Yl(t,e,r,s,n);case 7:return me(t,e,e.pendingProps,n),e.child;case 8:return me(t,e,e.pendingProps.children,n),e.child;case 12:return me(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,H(Us,r._currentValue),r._currentValue=o,i!==null)if(Ke(i.value,o)){if(i.children===s.children&&!je.current){e=ht(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=lt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),bo(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}me(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Pn(e,n),s=Ue(s),r=r(s),e.flags|=1,me(t,e,r,n),e.child;case 14:return r=e.type,s=Be(r,e.pendingProps),s=Be(r.type,s),Xl(t,e,r,s,n);case 15:return md(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),ks(t,e),e.tag=1,Ee(r)?(t=!0,$s(e)):t=!1,Pn(e,n),hd(e,r,s),Io(e,r,s,n),$o(null,e,r,!0,t,n);case 19:return _d(t,e,n);case 22:return gd(t,e,n)}throw Error(E(156,e.tag))};function Ld(t,e){return uc(t,e)}function $p(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(t,e,n,r){return new $p(t,e,n,r)}function Ga(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lp(t){if(typeof t=="function")return Ga(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ha)return 11;if(t===fa)return 14}return 2}function Ot(t,e){var n=t.alternate;return n===null?(n=$e(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function js(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ga(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pn:return Jt(n.children,s,i,e);case da:o=8,s|=8;break;case to:return t=$e(12,n,e,s|2),t.elementType=to,t.lanes=i,t;case no:return t=$e(13,n,e,s),t.elementType=no,t.lanes=i,t;case ro:return t=$e(19,n,e,s),t.elementType=ro,t.lanes=i,t;case qu:return li(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wu:o=10;break e;case Vu:o=9;break e;case ha:o=11;break e;case fa:o=14;break e;case gt:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=$e(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Jt(t,e,n,r){return t=$e(7,t,r,e),t.lanes=n,t}function li(t,e,n,r){return t=$e(22,t,r,e),t.elementType=qu,t.lanes=n,t.stateNode={isHidden:!1},t}function qi(t,e,n){return t=$e(6,t,null,e),t.lanes=n,t}function Gi(t,e,n){return e=$e(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Dp(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ni(0),this.expirationTimes=Ni(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ka(t,e,n,r,s,i,o,a,l){return t=new Dp(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=$e(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(i),t}function Up(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Dd(t){if(!t)return Rt;t=t._reactInternals;e:{if(rn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ee(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(Ee(n))return Dc(t,n,e)}return e}function Ud(t,e,n,r,s,i,o,a,l){return t=Ka(n,r,!0,t,s,i,o,a,l),t.context=Dd(null),n=t.current,r=ge(),s=bt(n),i=lt(r,s),i.callback=e??null,Tt(n,i,s),t.current.lanes=s,Dr(t,s,r),Ce(t,r),t}function ui(t,e,n,r){var s=e.current,i=ge(),o=bt(s);return n=Dd(n),e.context===null?e.context=n:e.pendingContext=n,e=lt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Tt(s,e,o),t!==null&&(Ge(t,s,o,i),ys(t,s,o)),o}function Ks(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qa(t,e){cu(t,e),(t=t.alternate)&&cu(t,e)}function Mp(){return null}var Md=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ja(t){this._internalRoot=t}ci.prototype.render=Ja.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));ui(t,e,null,null)};ci.prototype.unmount=Ja.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tn(function(){ui(null,t,null,null)}),e[ct]=null}};function ci(t){this._internalRoot=t}ci.prototype.unstable_scheduleHydration=function(t){if(t){var e=gc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wt.length&&e!==0&&e<wt[n].priority;n++);wt.splice(n,0,t),n===0&&yc(t)}};function Ya(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function di(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function du(){}function zp(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ks(o);i.call(u)}}var o=Ud(e,r,t,0,null,!1,!1,"",du);return t._reactRootContainer=o,t[ct]=o.current,Cr(t.nodeType===8?t.parentNode:t),tn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Ks(l);a.call(u)}}var l=Ka(t,0,!1,null,null,!1,!1,"",du);return t._reactRootContainer=l,t[ct]=l.current,Cr(t.nodeType===8?t.parentNode:t),tn(function(){ui(e,l,n,r)}),l}function hi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ks(o);a.call(l)}}ui(e,o,t,s)}else o=zp(n,e,t,s,r);return Ks(o)}pc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rr(e.pendingLanes);n!==0&&(ga(e,n|1),Ce(e,Y()),!(M&6)&&(Un=Y()+500,Lt()))}break;case 13:tn(function(){var r=dt(t,1);if(r!==null){var s=ge();Ge(r,t,1,s)}}),Qa(t,1)}};va=function(t){if(t.tag===13){var e=dt(t,134217728);if(e!==null){var n=ge();Ge(e,t,134217728,n)}Qa(t,134217728)}};mc=function(t){if(t.tag===13){var e=bt(t),n=dt(t,e);if(n!==null){var r=ge();Ge(n,t,e,r)}Qa(t,e)}};gc=function(){return z};vc=function(t,e){var n=z;try{return z=t,e()}finally{z=n}};po=function(t,e,n){switch(e){case"input":if(oo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ni(r);if(!s)throw Error(E(90));Ku(r),oo(r,s)}}}break;case"textarea":Ju(t,n);break;case"select":e=n.value,e!=null&&En(t,!!n.multiple,e,!1)}};rc=Wa;sc=tn;var Fp={usingClientEntryPoint:!1,Events:[Mr,yn,ni,tc,nc,Wa]},Zn={findFiberByHostInstance:qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bp={bundleType:Zn.bundleType,version:Zn.version,rendererPackageName:Zn.rendererPackageName,rendererConfig:Zn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ac(t),t===null?null:t.stateNode},findFiberByHostInstance:Zn.findFiberByHostInstance||Mp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var as=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!as.isDisabled&&as.supportsFiber)try{Xs=as.inject(Bp),Ze=as}catch{}}Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fp;Oe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ya(e))throw Error(E(200));return Up(t,e,null,n)};Oe.createRoot=function(t,e){if(!Ya(t))throw Error(E(299));var n=!1,r="",s=Md;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ka(t,1,!1,null,null,n,!1,r,s),t[ct]=e.current,Cr(t.nodeType===8?t.parentNode:t),new Ja(e)};Oe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=ac(e),t=t===null?null:t.stateNode,t};Oe.flushSync=function(t){return tn(t)};Oe.hydrate=function(t,e,n){if(!di(e))throw Error(E(200));return hi(null,t,e,!0,n)};Oe.hydrateRoot=function(t,e,n){if(!Ya(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Md;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ud(e,null,t,1,n??null,s,!1,i,o),t[ct]=e.current,Cr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ci(e)};Oe.render=function(t,e,n){if(!di(e))throw Error(E(200));return hi(null,t,e,!1,n)};Oe.unmountComponentAtNode=function(t){if(!di(t))throw Error(E(40));return t._reactRootContainer?(tn(function(){hi(null,null,t,!1,function(){t._reactRootContainer=null,t[ct]=null})}),!0):!1};Oe.unstable_batchedUpdates=Wa;Oe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!di(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return hi(t,e,n,!1,r)};Oe.version="18.3.1-next-f1338f8080-20240426";function zd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zd)}catch(t){console.error(t)}}zd(),zu.exports=Oe;var Hp=zu.exports,Fd,hu=Hp;Fd=hu.createRoot,hu.hydrateRoot;const Wp="modulepreload",Vp=function(t){return"/"+t},fu={},Hn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Vp(l),l in fu)return;fu[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Wp,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},qp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Hn(async()=>{const{default:r}=await Promise.resolve().then(()=>Wn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Xa extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Gp extends Xa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Kp extends Xa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Qp extends Xa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Go;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Go||(Go={}));var Jp=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Yp{constructor(e,{headers:n={},customFetch:r,region:s=Go.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=qp(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Jp(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(y=>{throw new Gp(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Kp(d);if(!d.ok)throw new Qp(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var Se={},Za={},fi={},Fr={},pi={},mi={},Xp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mn=Xp();const Zp=Mn.fetch,Bd=Mn.fetch.bind(Mn),Hd=Mn.Headers,em=Mn.Request,tm=Mn.Response,Wn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Hd,Request:em,Response:tm,default:Bd,fetch:Zp},Symbol.toStringTag,{value:"Module"})),nm=gh(Wn);var gi={};Object.defineProperty(gi,"__esModule",{value:!0});let rm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};gi.default=rm;var Wd=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mi,"__esModule",{value:!0});const sm=Wd(nm),im=Wd(gi);let om=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=sm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),C=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&C&&C.length>1&&(h=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,v="OK")}catch{i.status===404&&_===""?(f=204,v="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,v="OK"),u&&this.shouldThrowOnError)throw new im.default(u)}return{error:u,data:d,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};mi.default=om;var am=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pi,"__esModule",{value:!0});const lm=am(mi);let um=class extends lm.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};pi.default=um;var cm=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fr,"__esModule",{value:!0});const dm=cm(pi);let hm=class extends dm.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Fr.default=hm;var fm=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fi,"__esModule",{value:!0});const er=fm(Fr);let pm=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new er.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new er.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new er.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new er.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new er.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};fi.default=pm;var vi={},yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.version=void 0;yi.version="0.0.0-automated";Object.defineProperty(vi,"__esModule",{value:!0});vi.DEFAULT_HEADERS=void 0;const mm=yi;vi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${mm.version}`};var Vd=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Za,"__esModule",{value:!0});const gm=Vd(fi),vm=Vd(Fr),ym=vi;let wm=class qd{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},ym.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new gm.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new qd(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new vm.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Za.default=wm;var Vn=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Se,"__esModule",{value:!0});Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;const Gd=Vn(Za);Se.PostgrestClient=Gd.default;const Kd=Vn(fi);Se.PostgrestQueryBuilder=Kd.default;const Qd=Vn(Fr);Se.PostgrestFilterBuilder=Qd.default;const Jd=Vn(pi);Se.PostgrestTransformBuilder=Jd.default;const Yd=Vn(mi);Se.PostgrestBuilder=Yd.default;const Xd=Vn(gi);Se.PostgrestError=Xd.default;var _m=Se.default={PostgrestClient:Gd.default,PostgrestQueryBuilder:Kd.default,PostgrestFilterBuilder:Qd.default,PostgrestTransformBuilder:Jd.default,PostgrestBuilder:Yd.default,PostgrestError:Xd.default};const{PostgrestClient:km,PostgrestQueryBuilder:Pv,PostgrestFilterBuilder:bv,PostgrestTransformBuilder:Ov,PostgrestBuilder:Iv,PostgrestError:Rv}=_m;let Ko;typeof window>"u"?Ko=require("ws"):Ko=window.WebSocket;const Sm="2.11.10",xm={"X-Client-Info":`realtime-js/${Sm}`},jm="1.0.0",Zd=1e4,Em=1e3;var On;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(On||(On={}));var fe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(fe||(fe={}));var We;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(We||(We={}));var Qo;(function(t){t.websocket="websocket"})(Qo||(Qo={}));var Vt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Vt||(Vt={}));class Cm{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class eh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(B||(B={}));const pu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Nm(o,t,e,s),i),{})},Nm=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?th(i,o):Jo(o)},th=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Om(e,n)}switch(t){case B.bool:return Tm(e);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return Pm(e);case B.json:case B.jsonb:return bm(e);case B.timestamp:return Im(e);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return Jo(e);default:return Jo(e)}},Jo=t=>t,Tm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Pm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},bm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Om=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>th(e,a))}return t},Im=t=>typeof t=="string"?t.replace(" ","T"):t,nh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ki{constructor(e,n,r={},s=Zd){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mu||(mu={}));class mr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=mr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=mr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(C=>C.presence_ref),v=h.map(C=>C.presence_ref),y=d.filter(C=>v.indexOf(C.presence_ref)<0),_=h.filter(C=>f.indexOf(C.presence_ref)<0);y.length>0&&(a[u]=y),_.length>0&&(l[u]=_)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(gu||(gu={}));var vu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(vu||(vu={}));var st;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(st||(st={}));class el{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ki(this,We.join,this.params,this.timeout),this.rejoinTimer=new eh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new mr(this),this.broadcastEndpointURL=nh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(st.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(st.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(st.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let _=0;_<v;_++){const C=f[_],{filter:{event:g,schema:m,table:p,filter:w}}=C,k=d&&d[_];if(k&&k.event===g&&k.schema===m&&k.table===p&&k.filter===w)y.push(Object.assign(Object.assign({},C),{id:k.id}));else{this.unsubscribe(),this.state=fe.errored,e==null||e(st.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(st.SUBSCRIBED);return}}).receive("error",d=>{this.state=fe.errored,e==null||e(st.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(st.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=fe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new Ki(this,We.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ki(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=We;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,_,C;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((C=(_=v.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(v=>v.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,_,C,g,m,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const w=v.id,k=(y=v.filter)===null||y===void 0?void 0:y.event;return w&&((_=n.ids)===null||_===void 0?void 0:_.includes(w))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const w=(m=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return w==="*"||w===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:_,table:C,commit_timestamp:g,type:m,errors:p}=y;f=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:g,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(y))}v.callback(f,r)})}_isClosed(){return this.state===fe.closed}_isJoined(){return this.state===fe.joined}_isJoining(){return this.state===fe.joining}_isLeaving(){return this.state===fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&el.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(We.close,{},e)}_onError(e){this._on(We.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=pu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=pu(e.columns,e.old_record)),n}}const yu=()=>{},Rm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Am{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=xm,this.params={},this.timeout=Zd,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yu,this.ref=0,this.logger=yu,this.conn=null,this.sendBuffer=[],this.serializer=new Cm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Hn(async()=>{const{default:l}=await Promise.resolve().then(()=>Wn);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Qo.websocket}`,this.httpEndpoint=nh(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new eh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ko),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new $m(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jm}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case On.connecting:return Vt.Connecting;case On.open:return Vt.Open;case On.closing:return Vt.Closing;default:return Vt.Closed}}isConnected(){return this.connectionState()===Vt.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new el(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(We.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Em,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(We.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Rm],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class $m{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=On.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class tl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Lm extends tl{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Yo extends tl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Dm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const rh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Hn(async()=>{const{default:r}=await Promise.resolve().then(()=>Wn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Um=()=>Dm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hn(()=>Promise.resolve().then(()=>Wn),void 0)).Response:Response}),Xo=t=>{if(Array.isArray(t))return t.map(n=>Xo(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Xo(r)}),e};var sn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Qi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Mm=(t,e,n)=>sn(void 0,void 0,void 0,function*(){const r=yield Um();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Lm(Qi(s),t.status||500))}).catch(s=>{e(new Yo(Qi(s),s))}):e(new Yo(Qi(t),t))}),zm=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Br(t,e,n,r,s,i){return sn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,zm(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Mm(l,a,r))})})}function Qs(t,e,n,r){return sn(this,void 0,void 0,function*(){return Br(t,"GET",e,n,r)})}function yt(t,e,n,r,s){return sn(this,void 0,void 0,function*(){return Br(t,"POST",e,r,s,n)})}function Fm(t,e,n,r,s){return sn(this,void 0,void 0,function*(){return Br(t,"PUT",e,r,s,n)})}function Bm(t,e,n,r){return sn(this,void 0,void 0,function*(){return Br(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function sh(t,e,n,r,s){return sn(this,void 0,void 0,function*(){return Br(t,"DELETE",e,r,s,n)})}var _e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Hm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wm{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=rh(s)}uploadOrUpdate(e,n,r,s){return _e(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},wu),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(re(i))return{data:null,error:i};throw i}})}upload(e,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return _e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:wu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(re(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return _e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield yt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new tl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}update(e,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return _e(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}copy(e,n,r){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return _e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield yt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return _e(this,void 0,void 0,function*(){try{const s=yield yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}download(e,n){return _e(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Qs(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(re(a))return{data:null,error:a};throw a}})}info(e){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Qs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Xo(r),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}exists(e){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Bm(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(re(r)&&r instanceof Yo){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return _e(this,void 0,void 0,function*(){try{return{data:yield sh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}list(e,n,r){return _e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Hm),n),{prefix:e||""});return{data:yield yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Vm="2.7.1",qm={"X-Client-Info":`storage-js/${Vm}`};var ln=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Gm{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},qm),n),this.fetch=rh(r)}listBuckets(){return ln(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}})}getBucket(e){return ln(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ln(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return ln(this,void 0,void 0,function*(){try{return{data:yield Fm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ln(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ln(this,void 0,void 0,function*(){try{return{data:yield sh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}}class Km extends Gm{constructor(e,n={},r){super(e,n,r)}from(e){return new Wm(this.url,this.headers,e,this.fetch)}}const Qm="2.50.0";let ir="";typeof Deno<"u"?ir="deno":typeof document<"u"?ir="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ir="react-native":ir="node";const Jm={"X-Client-Info":`supabase-js-${ir}/${Qm}`},Ym={headers:Jm},Xm={schema:"public"},Zm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eg={};var tg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ng=t=>{let e;return t?e=t:typeof fetch>"u"?e=Bd:e=fetch,(...n)=>e(...n)},rg=()=>typeof Headers>"u"?Hd:Headers,sg=(t,e,n)=>{const r=ng(n),s=rg();return(i,o)=>tg(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var ig=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function og(t){return t.endsWith("/")?t:t+"/"}function ag(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ig(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const ih="2.70.0",hn=30*1e3,Zo=3,Ji=Zo*hn,lg="http://localhost:9999",ug="supabase.auth.token",cg={"X-Client-Info":`gotrue-js/${ih}`},ea="X-Supabase-Api-Version",oh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hg=6e5;class nl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class fg extends nl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function pg(t){return A(t)&&t.name==="AuthApiError"}class ah extends nl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Dt extends nl{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class mt extends Dt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mg(t){return A(t)&&t.name==="AuthSessionMissingError"}class ls extends Dt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class us extends Dt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class cs extends Dt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gg(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class _u extends Dt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ta extends Dt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Yi(t){return A(t)&&t.name==="AuthRetryableFetchError"}class ku extends Dt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class gr extends Dt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Js="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Su=` 	
\r=`.split(""),vg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Su.length;e+=1)t[Su[e].charCodeAt(0)]=-2;for(let e=0;e<Js.length;e+=1)t[Js[e].charCodeAt(0)]=e;return t})();function xu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Js[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Js[r]),e.queuedBits-=6}}function lh(t,e,n){const r=vg[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ju(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{_g(o,r,n)};for(let o=0;o<t.length;o+=1)lh(t.charCodeAt(o),s,i);return e.join("")}function yg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function wg(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}yg(r,e)}}function _g(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function kg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)lh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Sg(t){const e=[];return wg(t,n=>e.push(n)),new Uint8Array(e)}function xg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>xu(s,n,r)),xu(null,n,r),e.join("")}function jg(t){return Math.round(Date.now()/1e3)+t}function Eg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Fe=()=>typeof window<"u"&&typeof document<"u",Ft={tested:!1,writable:!1},vr=()=>{if(!Fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ft.tested)return Ft.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ft.tested=!0,Ft.writable=!0}catch{Ft.tested=!0,Ft.writable=!1}return Ft.writable};function Cg(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const uh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Hn(async()=>{const{default:r}=await Promise.resolve().then(()=>Wn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Ng=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ch=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ds=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hs=async(t,e)=>{await t.removeItem(e)};class wi{constructor(){this.promise=new wi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}wi.promiseConstructor=Promise;function Xi(t){const e=t.split(".");if(e.length!==3)throw new gr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!dg.test(e[r]))throw new gr("JWT not in base64url format");return{header:JSON.parse(ju(e[0])),payload:JSON.parse(ju(e[1])),signature:kg(e[2]),raw:{header:e[0],payload:e[1]}}}async function Tg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Pg(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function bg(t){return("0"+t.toString(16)).substr(-2)}function Og(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,bg).join("")}async function Ig(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Rg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Ig(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function un(t,e,n=!1){const r=Og();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ch(t,`${e}-code-verifier`,s);const i=await Rg(r);return[i,r===i?"plain":"s256"]}const Ag=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $g(t){const e=t.headers.get(ea);if(!e||!e.match(Ag))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Lg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Dg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ug=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cn(t){if(!Ug.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Mg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Wt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zg=[502,503,504];async function Eu(t){var e;if(!Ng(t))throw new ta(Wt(t),0);if(zg.includes(t.status))throw new ta(Wt(t),t.status);let n;try{n=await t.json()}catch(i){throw new ah(Wt(i),i)}let r;const s=$g(t);if(s&&s.getTime()>=oh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ku(Wt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new mt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ku(Wt(n),t.status,n.weak_password.reasons);throw new fg(Wt(n),t.status||500,r)}const Fg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function L(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ea]||(i[ea]=oh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Bg(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Bg(t,e,n,r,s,i){const o=Fg(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new ta(Wt(l),0)}if(a.ok||await Eu(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Eu(l)}}function nt(t){var e;let n=null;qg(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=jg(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Cu(t){const e=nt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Hg(t){return{data:t,error:null}}function Wg(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Mg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Vg(t){return t}function qg(t){return t.access_token&&t.refresh_token&&t.expires_in}const Zi=["global","local","others"];var Gg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Kg{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=uh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Zi[0]){if(Zi.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zi.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:kt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Gg(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Wg,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(A(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Vg});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(y.split(";")[1].split("=")[1]);u[`${C}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){cn(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){cn(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:kt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){cn(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:kt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){cn(e.userId);try{const{data:n,error:r}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteFactor(e){cn(e.userId),cn(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}}const Qg={getItem:t=>vr()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{vr()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{vr()&&globalThis.localStorage.removeItem(t)}};function Nu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Jg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dn={debug:!!(globalThis&&vr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Yg extends dh{}async function Xg(t,e,n){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Yg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(dn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Jg();const Zg={url:lg,storageKey:ug,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Tu(t,e,n){return await n()}class $r{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$r.nextInstanceID,$r.nextInstanceID+=1,this.instanceID>0&&Fe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Zg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Kg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=uh(s.fetch),this.lock=s.lock||Tu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Fe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Xg:this.lock=Tu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:vr()?this.storage=Qg:(this.memoryStorage={},this.storage=Nu(this.memoryStorage)):(this.memoryStorage={},this.storage=Nu(this.memoryStorage)),Fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ih}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Cg(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Fe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),gg(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return A(n)?{error:n}:{error:new ah("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:nt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await un(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:nt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:nt})}else throw new us("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cu})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cu})}else throw new us("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ls}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,u,d,h,f,v;let y,_;if("message"in e)y=e.message,_=e.signature;else{const{chain:C,wallet:g,statement:m,options:p}=e;let w;if(Fe())if(typeof g=="object")w=g;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))w=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const k=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const x=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),m?{statement:m}:null));let N;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")N=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)N=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)y=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),_=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${k.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const x=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=x}}try{const{data:C,error:g}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:xg(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:nt});if(g)throw g;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new ls}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:g})}catch(C){if(A(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const n=await ds(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:nt});if(await hs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ls}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(A(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:nt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ls}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await un(this.storage,this.storageKey));const{error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new us("You must provide either an email or phone number.")}catch(a){if(A(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:nt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await un(this.storage,this.storageKey)),await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Hg})}catch(i){if(A(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new mt;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(A(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await L(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await L(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new us("You must provide either an email or phone number and a type")}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ji:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mt}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:kt})})}catch(n){if(A(n))return mg(n)&&(await this._removeSession(),await hs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new mt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await un(this.storage,this.storageKey));const{data:u,error:d}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:kt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Xi(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(A(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new mt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Fe())throw new cs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new cs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _u("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _u("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new cs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const v=f-d;v*1e3<=hn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:_,error:C}=await this._getUser(i);if(C)throw C;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(A(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ds(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(pg(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await hs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Eg(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await un(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(A(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Fe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(A(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Pg(async s=>(s>0&&await Tg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Yi(i)&&Date.now()+o-r<hn})}catch(r){if(this._debug(n,"error",r),A(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Fe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ds(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Ji;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Ji}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Yi(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new mt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),A(i)){const o={session:null,error:i};return Yi(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ch(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await hs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/hn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${hn}ms, refresh threshold is ${Zo} ticks`),s<=Zo&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof dh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await un(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await L(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Xi(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+hg>Date.now()))return r;const{data:s,error:i}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new gr("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new gr("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Xi(r);if(Lg(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const u=Dg(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Sg(`${a}.${l}`)))throw new gr("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}}$r.nextInstanceID=0;const ev=$r;class tv extends ev{constructor(e){super(e)}}var nv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class rv{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=og(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Xm,realtime:eg,auth:Object.assign(Object.assign({},Zm),{storageKey:u}),global:Ym},h=ag(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=sg(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new km(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Yp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Km(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return nv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tv({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Am(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sv=(t,e,n)=>new rv(t,e,n),iv="https://vtiqgfoyzgsfqkbngfpf.supabase.co",ov="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ0aXFnZm95emdzZnFrYm5nZnBmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg5ODYzNjcsImV4cCI6MjA2NDU2MjM2N30.o3Um0VWzmNin_R-uN94218fm5mAr2mNItqcdCGdQJO8",U=sv(iv,ov,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),pe={async signUp(t,e){const{data:n,error:r}=await U.auth.signUp({email:t,password:e});return{data:n,error:r}},async signIn(t,e){const{data:n,error:r}=await U.auth.signInWithPassword({email:t,password:e});return{data:n,error:r}},async signOut(){const{error:t}=await U.auth.signOut();return{error:t}},async getCurrentUser(){const{data:{user:t},error:e}=await U.auth.getUser();return{user:t,error:e}},async getConversations(){const{data:t,error:e}=await U.from("conversations").select("*").order("updated_at",{ascending:!1});return{data:t,error:e}},async createConversation(t="New conversation"){const{data:e,error:n}=await U.from("conversations").insert([{title:t}]).select().single();return{data:e,error:n}},async updateConversation(t,e){const{data:n,error:r}=await U.from("conversations").update(e).eq("id",t).select().single();return{data:n,error:r}},async deleteConversation(t){const{error:e}=await U.from("conversations").delete().eq("id",t);return{error:e}},async getMessages(t){const{data:e,error:n}=await U.from("messages").select("*").eq("conversation_id",t).order("timestamp",{ascending:!0});return{data:e,error:n}},async createMessage(t,e,n,r=!1){const{data:s,error:i}=await U.from("messages").insert([{conversation_id:t,role:e,content:n,is_error:r}]).select().single();return{data:s,error:i}},async deleteMessage(t){const{error:e}=await U.from("messages").delete().eq("id",t);return{error:e}}},Xe={async createGroup(t,e="",n=!1,r=100){const{data:s,error:i}=await U.from("groups").insert([{name:t,description:e,is_private:n,max_members:r}]).select().single();return{data:s,error:i}},async getMyGroups(){var n;const{data:t,error:e}=await U.from("groups").select(`
        *,
        group_members!inner(role),
        member_count:group_members(count)
      `).eq("group_members.user_id",(n=(await U.auth.getUser()).data.user)==null?void 0:n.id);return{data:t,error:e}},async getPublicGroups(){const{data:t,error:e}=await U.from("groups").select(`
        *,
        member_count:group_members(count),
        created_by_user:users!groups_created_by_fkey(display_name, email)
      `).eq("is_private",!1).order("created_at",{ascending:!1});return{data:t,error:e}},async getGroupDetails(t){const{data:e,error:n}=await U.from("groups").select(`
        *,
        created_by_user:users!groups_created_by_fkey(display_name, email),
        members:group_members(
          id,
          role,
          joined_at,
          user:users(id, display_name, email, avatar_url)
        )
      `).eq("id",t).single();return{data:e,error:n}},async updateGroup(t,e){const{data:n,error:r}=await U.from("groups").update(e).eq("id",t).select().single();return{data:n,error:r}},async deleteGroup(t){const{error:e}=await U.from("groups").delete().eq("id",t);return{error:e}},async getGroupMembers(t){const{data:e,error:n}=await U.from("group_members").select(`
        *,
        user:users(id, display_name, email, avatar_url),
        invited_by_user:users!group_members_invited_by_fkey(display_name, email)
      `).eq("group_id",t).order("joined_at",{ascending:!0});return{data:e,error:n}},async addMemberToGroup(t,e,n="member"){const{data:r,error:s}=await U.from("group_members").insert([{group_id:t,user_id:e,role:n}]).select().single();return{data:r,error:s}},async updateMemberRole(t,e,n){const{data:r,error:s}=await U.from("group_members").update({role:n}).eq("group_id",t).eq("user_id",e).select().single();return{data:r,error:s}},async removeMemberFromGroup(t,e){const{error:n}=await U.from("group_members").delete().eq("group_id",t).eq("user_id",e);return{error:n}},async leaveGroup(t){const e=(await U.auth.getUser()).data.user;if(!e)return{error:{message:"Not authenticated"}};const{error:n}=await U.from("group_members").delete().eq("group_id",t).eq("user_id",e.id);return{error:n}},async inviteUserToGroup(t,e){const{data:n,error:r}=await U.from("users").select("id").eq("email",e).single();if(r)return{error:{message:"找不到該用戶"}};const{data:s,error:i}=await U.from("group_invitations").insert([{group_id:t,invited_user_id:n.id}]).select().single();return{data:s,error:i}},async getMyInvitations(){var n;const{data:t,error:e}=await U.from("group_invitations").select(`
        *,
        group:groups(name, description, avatar_url),
        invited_by_user:users!group_invitations_invited_by_fkey(display_name, email)
      `).eq("invited_user_id",(n=(await U.auth.getUser()).data.user)==null?void 0:n.id).eq("status","pending").order("created_at",{ascending:!1});return{data:t,error:e}},async respondToInvitation(t,e){const{data:n,error:r}=await U.from("group_invitations").update({status:e}).eq("id",t).select().single();return{data:n,error:r}},async createGroupConversation(t,e="群組聊天"){const{data:n,error:r}=await U.from("conversations").insert([{title:e,group_id:t,is_group_chat:!0}]).select().single();return{data:n,error:r}},async getGroupConversations(t){const{data:e,error:n}=await U.from("conversations").select("*").eq("group_id",t).order("updated_at",{ascending:!1});return{data:e,error:n}},async searchUsers(t){const{data:e,error:n}=await U.from("users").select("id, display_name, email, avatar_url").or(`display_name.ilike.%${t}%,email.ilike.%${t}%`).limit(10);return{data:e,error:n}}};function av({conversations:t,currentConversationId:e,onNewChat:n,onSelectConversation:r,onDeleteConversation:s,onSelectGroupChat:i,isOpen:o,onClose:a,user:l,onSignOut:u,onSignIn:d,onOpenGroupManagement:h}){const[f,v]=I.useState("chats"),[y,_]=I.useState([]),[C,g]=I.useState([]);I.useEffect(()=>{l&&f==="groups"&&m(),l&&p()},[l,f]);const m=async()=>{try{const{data:j}=await Xe.getMyGroups();_(j||[])}catch(j){console.error("Error loading groups:",j)}},p=async()=>{try{const{data:j}=await Xe.getMyInvitations();g(j||[])}catch(j){console.error("Error loading invitations:",j)}},w=j=>{r(j)},k=(j,$)=>{j.stopPropagation(),window.confirm("Are you sure you want to delete this conversation?")&&s($)},x=j=>{i(j)},N=j=>{const $=new Date(j),X=Math.abs(new Date-$),we=Math.ceil(X/(1e3*60*60*24));return we===1?"Today":we===2?"Yesterday":we<=7?`${we-1} days ago`:$.toLocaleDateString()};return c.jsxs(c.Fragment,{children:[o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:a,"aria-hidden":"true"}),c.jsxs("aside",{className:`sidebar ${o?"open":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsxs("div",{className:"sidebar-brand",children:[c.jsx("div",{className:"sidebar-brand-icon",children:c.jsx("span",{className:"material-icons-round",children:"psychology"})}),c.jsx("span",{children:"AI Chat"})]}),c.jsxs("button",{onClick:n,className:"new-chat-button","aria-label":"Start new conversation",disabled:!l,children:[c.jsx("span",{className:"material-icons-round",children:"add"}),"New Chat"]})]}),l&&c.jsxs("div",{className:"sidebar-tabs",children:[c.jsxs("button",{className:`sidebar-tab ${f==="chats"?"active":""}`,onClick:()=>v("chats"),children:[c.jsx("span",{className:"material-icons-round",children:"chat"}),"對話"]}),c.jsxs("button",{className:`sidebar-tab ${f==="groups"?"active":""}`,onClick:()=>v("groups"),children:[c.jsx("span",{className:"material-icons-round",children:"groups"}),"群組",C.length>0&&c.jsx("span",{className:"notification-badge",children:C.length})]})]}),c.jsx("div",{className:"sidebar-content",children:l?f==="chats"?c.jsx("div",{className:"conversation-list",children:t.length>0?t.map(j=>c.jsxs("div",{className:`conversation-item ${j.id===e?"active":""}`,onClick:()=>w(j.id),role:"button",tabIndex:0,onKeyDown:$=>{($.key==="Enter"||$.key===" ")&&($.preventDefault(),w(j.id))},"aria-label":`Select conversation: ${j.title}`,children:[c.jsx("div",{className:"conversation-icon",children:c.jsx("span",{className:"material-icons-round",children:"chat_bubble"})}),c.jsxs("div",{className:"conversation-content",children:[c.jsx("div",{className:"conversation-title",children:j.title}),c.jsx("div",{className:"conversation-date",children:N(j.updated_at)})]}),c.jsx("button",{className:"btn btn-ghost btn-icon conversation-delete",onClick:$=>k($,j.id),"aria-label":"Delete conversation",children:c.jsx("span",{className:"material-icons-round",children:"delete"})})]},j.id)):c.jsxs("div",{className:"empty-conversations",children:[c.jsx("div",{className:"empty-conversations-icon",children:c.jsx("span",{className:"material-icons-round",children:"chat_bubble_outline"})}),c.jsx("p",{children:"No conversations yet"}),c.jsx("p",{className:"empty-conversations-subtitle",children:"Start a new chat to begin"})]})}):c.jsxs("div",{className:"groups-section",children:[c.jsxs("div",{className:"groups-header",children:[c.jsx("h3",{children:"我的群組"}),c.jsx("button",{onClick:h,className:"btn btn-ghost btn-icon","aria-label":"群組管理",children:c.jsx("span",{className:"material-icons-round",children:"settings"})})]}),c.jsx("div",{className:"groups-list",children:y.length>0?y.map(j=>{var $,R;return c.jsxs("div",{className:"group-item",onClick:()=>x(j),role:"button",tabIndex:0,children:[c.jsx("div",{className:"group-avatar",children:j.avatar_url?c.jsx("img",{src:j.avatar_url,alt:j.name}):c.jsx("span",{className:"material-icons-round",children:"groups"})}),c.jsxs("div",{className:"group-info",children:[c.jsx("div",{className:"group-name",children:j.name}),c.jsxs("div",{className:"group-meta",children:[c.jsxs("span",{className:"member-count",children:[((R=($=j.member_count)==null?void 0:$[0])==null?void 0:R.count)||0," 成員"]}),j.is_private&&c.jsx("span",{className:"material-icons-round private-icon",children:"lock"})]})]})]},j.id)}):c.jsxs("div",{className:"empty-groups",children:[c.jsx("div",{className:"empty-groups-icon",children:c.jsx("span",{className:"material-icons-round",children:"groups"})}),c.jsx("p",{children:"還沒有群組"}),c.jsx("button",{onClick:h,className:"btn btn-primary btn-sm",children:"創建群組"})]})}),C.length>0&&c.jsxs("div",{className:"invitations-section",children:[c.jsx("h4",{children:"群組邀請"}),c.jsxs("div",{className:"invitations-list",children:[C.slice(0,3).map(j=>c.jsxs("div",{className:"invitation-item",children:[c.jsx("span",{className:"invitation-text",children:j.group.name}),c.jsx("button",{onClick:h,className:"btn btn-primary btn-xs",children:"查看"})]},j.id)),C.length>3&&c.jsxs("button",{onClick:h,className:"view-all-invitations",children:["查看全部 ",C.length," 個邀請"]})]})]})]}):c.jsxs("div",{className:"auth-prompt",children:[c.jsx("div",{className:"auth-prompt-icon",children:c.jsx("span",{className:"material-icons-round",children:"person"})}),c.jsx("h3",{children:"Sign in to save your chats"}),c.jsx("p",{children:"Create an account to keep your conversation history"}),c.jsxs("button",{onClick:d,className:"btn btn-primary",children:[c.jsx("span",{className:"material-icons-round",children:"login"}),"Sign In"]})]})}),l&&c.jsx("div",{className:"sidebar-footer",children:c.jsxs("div",{className:"user-info",children:[c.jsx("div",{className:"user-avatar",children:c.jsx("span",{className:"material-icons-round",children:"person"})}),c.jsxs("div",{className:"user-details",children:[c.jsx("div",{className:"user-email",children:l.email}),c.jsx("div",{className:"user-status",children:"Online"})]}),c.jsx("button",{onClick:u,className:"btn btn-ghost btn-icon","aria-label":"Sign out",children:c.jsx("span",{className:"material-icons-round",children:"logout"})})]})})]})]})}function lv({onToggleSidebar:t,currentConversation:e,user:n,onSignIn:r,onSignOut:s}){const[i,o]=I.useState(!1),[a,l]=I.useState([]);return I.useEffect(()=>{Hn(async()=>{const{aiService:u}=await Promise.resolve().then(()=>yv);return{aiService:u}},void 0).then(({aiService:u})=>{l(u.getProviderStatus())})},[]),c.jsxs("header",{className:"chat-header",children:[c.jsxs("div",{className:"header-left",children:[c.jsx("button",{onClick:t,className:"btn btn-ghost btn-icon md:hidden","aria-label":"Toggle sidebar",children:c.jsx("span",{className:"material-icons-round",children:"menu"})}),c.jsx("h1",{className:"header-title",children:(e==null?void 0:e.title)||"AI Chat"})]}),c.jsxs("div",{className:"header-actions",children:[n?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"header-user-info",children:c.jsx("span",{className:"user-email-header",children:n.email})}),c.jsx("button",{onClick:s,className:"btn btn-ghost btn-icon","aria-label":"Sign out",children:c.jsx("span",{className:"material-icons-round",children:"logout"})})]}):c.jsxs("button",{onClick:r,className:"btn btn-primary","aria-label":"Sign in",children:[c.jsx("span",{className:"material-icons-round",children:"login"}),"Sign In"]}),c.jsxs("div",{className:"provider-status-container",children:[c.jsx("button",{className:"btn btn-ghost btn-icon","aria-label":"AI Provider Status",onClick:()=>o(!i),children:c.jsx("span",{className:"material-icons-round",children:"psychology"})}),i&&c.jsxs("div",{className:"provider-status-dropdown",children:[c.jsx("div",{className:"provider-status-header",children:c.jsx("h3",{children:"AI Providers"})}),c.jsx("div",{className:"provider-status-list",children:a.map((u,d)=>c.jsxs("div",{className:"provider-status-item",children:[c.jsxs("div",{className:"provider-info",children:[c.jsx("span",{className:"provider-name",children:u.name}),c.jsx("span",{className:"provider-model",children:u.model})]}),c.jsx("div",{className:`provider-indicator ${u.available?"available":"unavailable"}`,children:c.jsx("span",{className:"material-icons-round",children:u.available?"check_circle":"cancel"})})]},d))}),c.jsx("div",{className:"provider-status-footer",children:c.jsxs("small",{children:["Priority order: ",a.filter(u=>u.available).length," of ",a.length," available"]})})]})]}),c.jsx("button",{className:"btn btn-ghost btn-icon","aria-label":"Settings",children:c.jsx("span",{className:"material-icons-round",children:"settings"})})]})]})}function uv(){return c.jsxs("div",{className:"loading-dots","aria-label":"AI is thinking",children:[c.jsx("div",{className:"loading-dot"}),c.jsx("div",{className:"loading-dot"}),c.jsx("div",{className:"loading-dot"})]})}function na({message:t,isLoading:e}){const n=r=>r?new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return c.jsxs("div",{className:`message ${t.role}`,children:[c.jsx("div",{className:"message-avatar",children:t.role==="assistant"?c.jsx("span",{className:"material-icons-round",children:"psychology"}):c.jsx("span",{className:"material-icons-round",children:"person"})}),c.jsxs("div",{className:"message-content",children:[c.jsx("div",{className:`message-bubble ${t.isError?"error":""}`,children:e?c.jsx(uv,{}):c.jsx("div",{className:"message-text",children:t.content})}),!e&&t.timestamp&&c.jsx("div",{className:"message-time",children:n(t.timestamp)})]})]})}function hh({onSendMessage:t,isLoading:e,disabled:n,user:r}){const[s,i]=I.useState(""),o=I.useRef(null),a=f=>{f.preventDefault(),s.trim()&&!e&&!n&&(t(s.trim()),i(""),o.current&&(o.current.style.height="44px"))},l=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),a(f))},u=f=>{i(f.target.value);const v=f.target;v.style.height="44px",v.style.height=Math.min(v.scrollHeight,200)+"px"},d=s.trim()&&!e&&!n&&r,h=()=>r?n?"Start a new conversation to begin chatting...":"Type your message here...":"Sign in to start chatting...";return c.jsx("div",{className:"message-input-container",children:c.jsxs("div",{className:"message-input-wrapper",children:[c.jsxs("form",{onSubmit:a,className:"message-input-form",children:[c.jsx("textarea",{ref:o,value:s,onChange:u,onKeyDown:l,placeholder:h(),className:"message-textarea",disabled:!r||n,rows:"1","aria-label":"Message input"}),c.jsx("button",{type:"submit",disabled:!d,className:"send-button","aria-label":"Send message",children:e?c.jsx("span",{className:"material-icons-round",children:"hourglass_empty"}):c.jsx("span",{className:"material-icons-round",children:"send"})})]}),!r&&c.jsxs("div",{className:"input-auth-hint",children:[c.jsx("span",{className:"material-icons-round",children:"info"}),"Sign in to save your conversations and chat history"]})]})})}function cv({onStartChat:t,user:e,onSignIn:n}){const r=[{icon:"lightbulb",title:"Creative Writing",description:"Help me write a story or poem",prompt:"Help me write a creative short story about space exploration"},{icon:"code",title:"Code Assistant",description:"Debug code or explain programming concepts",prompt:"Explain how React hooks work with examples"},{icon:"school",title:"Learning Helper",description:"Explain complex topics in simple terms",prompt:"Explain quantum physics in simple terms"},{icon:"business",title:"Business Ideas",description:"Brainstorm and develop business concepts",prompt:"Help me brainstorm innovative startup ideas for 2024"}],s=i=>{e?(i.prompt,t(i.prompt)):n()};return c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-state-icon",children:c.jsx("span",{className:"material-icons-round",children:"psychology"})}),c.jsx("h1",{className:"empty-state-title",children:"How can I help you today?"}),c.jsxs("p",{className:"empty-state-subtitle",children:["I'm here to assist you with questions, creative tasks, problem-solving, and much more.",e?"Start a conversation below or try one of these suggestions.":"Sign in to save your conversations and try these suggestions."]}),!e&&c.jsx("div",{className:"auth-cta",children:c.jsxs("button",{onClick:n,className:"btn btn-primary auth-cta-button",children:[c.jsx("span",{className:"material-icons-round",children:"login"}),"Sign In to Get Started"]})}),c.jsx("div",{className:"suggestions-grid",children:r.map((i,o)=>c.jsxs("button",{className:"suggestion-card",onClick:()=>s(i),"aria-label":`Try suggestion: ${i.title}`,children:[c.jsx("div",{className:"suggestion-icon",children:c.jsx("span",{className:"material-icons-round",children:i.icon})}),c.jsxs("div",{className:"suggestion-content",children:[c.jsx("h3",{className:"suggestion-title",children:i.title}),c.jsx("p",{className:"suggestion-description",children:i.description})]}),!e&&c.jsx("div",{className:"suggestion-lock",children:c.jsx("span",{className:"material-icons-round",children:"lock"})})]},o))})]})}function dv({isOpen:t,onClose:e,onAuthSuccess:n}){const[r,s]=I.useState(!1),[i,o]=I.useState(""),[a,l]=I.useState(""),[u,d]=I.useState(!1),[h,f]=I.useState(""),v=async _=>{_.preventDefault(),d(!0),f("");try{let C;r?C=await pe.signUp(i,a):C=await pe.signIn(i,a),C.error?f(C.error.message):(n(C.data.user),e(),o(""),l(""))}catch{f("An unexpected error occurred")}finally{d(!1)}},y=()=>{s(!r),f("")};return t?c.jsx("div",{className:"auth-modal-overlay",onClick:e,children:c.jsxs("div",{className:"auth-modal",onClick:_=>_.stopPropagation(),children:[c.jsxs("div",{className:"auth-modal-header",children:[c.jsx("h2",{className:"auth-modal-title",children:r?"Create Account":"Sign In"}),c.jsx("button",{onClick:e,className:"btn btn-ghost btn-icon","aria-label":"Close modal",children:c.jsx("span",{className:"material-icons-round",children:"close"})})]}),c.jsxs("form",{onSubmit:v,className:"auth-form",children:[h&&c.jsxs("div",{className:"auth-error",children:[c.jsx("span",{className:"material-icons-round",children:"error"}),h]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:i,onChange:_=>o(_.target.value),className:"form-input",placeholder:"Enter your email",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),c.jsx("input",{type:"password",id:"password",value:a,onChange:_=>l(_.target.value),className:"form-input",placeholder:"Enter your password",required:!0,minLength:6})]}),c.jsx("button",{type:"submit",disabled:u,className:"btn btn-primary auth-submit-btn",children:u?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"material-icons-round",children:"hourglass_empty"}),r?"Creating Account...":"Signing In..."]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"material-icons-round",children:r?"person_add":"login"}),r?"Create Account":"Sign In"]})}),c.jsxs("div",{className:"auth-toggle",children:[c.jsx("span",{children:r?"Already have an account?":"Don't have an account?"}),c.jsx("button",{type:"button",onClick:y,className:"auth-toggle-btn",children:r?"Sign In":"Sign Up"})]})]})]})}):null}function hv({user:t,onClose:e}){const[n,r]=I.useState("my-groups"),[s,i]=I.useState([]),[o,a]=I.useState([]),[l,u]=I.useState([]),[d,h]=I.useState(!1),[f,v]=I.useState(!1);I.useEffect(()=>{t&&y()},[t,n]);const y=async()=>{h(!0);try{switch(n){case"my-groups":const{data:g}=await Xe.getMyGroups();i(g||[]);break;case"public-groups":const{data:m}=await Xe.getPublicGroups();a(m||[]);break;case"invitations":const{data:p}=await Xe.getMyInvitations();u(p||[]);break}}catch(g){console.error("Error loading data:",g)}finally{h(!1)}},_=async g=>{try{const{data:m,error:p}=await Xe.createGroup(g.name,g.description,g.isPrivate,g.maxMembers);if(p)throw p;v(!1),y()}catch(m){console.error("Error creating group:",m)}},C=async(g,m)=>{try{const{error:p}=await Xe.respondToInvitation(g,m);if(p)throw p;y()}catch(p){console.error("Error responding to invitation:",p)}};return c.jsx("div",{className:"group-management-overlay",onClick:e,children:c.jsxs("div",{className:"group-management-modal",onClick:g=>g.stopPropagation(),children:[c.jsxs("div",{className:"group-management-header",children:[c.jsx("h2",{children:"群組管理"}),c.jsx("button",{onClick:e,className:"btn btn-ghost btn-icon","aria-label":"關閉",children:c.jsx("span",{className:"material-icons-round",children:"close"})})]}),c.jsxs("div",{className:"group-management-tabs",children:[c.jsxs("button",{className:`tab-button ${n==="my-groups"?"active":""}`,onClick:()=>r("my-groups"),children:[c.jsx("span",{className:"material-icons-round",children:"groups"}),"我的群組"]}),c.jsxs("button",{className:`tab-button ${n==="public-groups"?"active":""}`,onClick:()=>r("public-groups"),children:[c.jsx("span",{className:"material-icons-round",children:"public"}),"公開群組"]}),c.jsxs("button",{className:`tab-button ${n==="invitations"?"active":""}`,onClick:()=>r("invitations"),children:[c.jsx("span",{className:"material-icons-round",children:"mail"}),"邀請",l.length>0&&c.jsx("span",{className:"notification-badge",children:l.length})]})]}),c.jsxs("div",{className:"group-management-content",children:[n==="my-groups"&&c.jsx(fv,{groups:s,loading:d,onCreateGroup:()=>v(!0),onRefresh:y}),n==="public-groups"&&c.jsx(pv,{groups:o,loading:d,onRefresh:y}),n==="invitations"&&c.jsx(mv,{invitations:l,loading:d,onRespond:C})]}),f&&c.jsx(vv,{onClose:()=>v(!1),onCreate:_})]})})}function fv({groups:t,loading:e,onCreateGroup:n,onRefresh:r}){return e?c.jsx("div",{className:"loading-state",children:"載入中..."}):c.jsxs("div",{className:"groups-tab",children:[c.jsxs("div",{className:"tab-header",children:[c.jsx("h3",{children:"我的群組"}),c.jsxs("button",{className:"btn btn-primary",onClick:n,children:[c.jsx("span",{className:"material-icons-round",children:"add"}),"創建群組"]})]}),t.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("span",{className:"material-icons-round",children:"groups"}),c.jsx("p",{children:"您還沒有加入任何群組"}),c.jsx("button",{className:"btn btn-primary",onClick:n,children:"創建第一個群組"})]}):c.jsx("div",{className:"groups-list",children:t.map(s=>c.jsx(fh,{group:s,showRole:!0},s.id))})]})}function pv({groups:t,loading:e,onRefresh:n}){return e?c.jsx("div",{className:"loading-state",children:"載入中..."}):c.jsxs("div",{className:"groups-tab",children:[c.jsxs("div",{className:"tab-header",children:[c.jsx("h3",{children:"公開群組"}),c.jsx("button",{className:"btn btn-ghost btn-icon",onClick:n,"aria-label":"刷新",children:c.jsx("span",{className:"material-icons-round",children:"refresh"})})]}),t.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("span",{className:"material-icons-round",children:"public"}),c.jsx("p",{children:"沒有找到公開群組"})]}):c.jsx("div",{className:"groups-list",children:t.map(r=>c.jsx(fh,{group:r,showJoinButton:!0},r.id))})]})}function mv({invitations:t,loading:e,onRespond:n}){return e?c.jsx("div",{className:"loading-state",children:"載入中..."}):c.jsxs("div",{className:"invitations-tab",children:[c.jsx("div",{className:"tab-header",children:c.jsx("h3",{children:"群組邀請"})}),t.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("span",{className:"material-icons-round",children:"mail"}),c.jsx("p",{children:"沒有待處理的邀請"})]}):c.jsx("div",{className:"invitations-list",children:t.map(r=>c.jsx(gv,{invitation:r,onRespond:n},r.id))})]})}function fh({group:t,showRole:e,showJoinButton:n}){var s,i,o,a;const r=async()=>{try{console.log("Joining group:",t.id)}catch(l){console.error("Error joining group:",l)}};return c.jsxs("div",{className:"group-card",children:[c.jsx("div",{className:"group-avatar",children:t.avatar_url?c.jsx("img",{src:t.avatar_url,alt:t.name}):c.jsx("span",{className:"material-icons-round",children:"groups"})}),c.jsxs("div",{className:"group-info",children:[c.jsx("h4",{className:"group-name",children:t.name}),c.jsx("p",{className:"group-description",children:t.description}),c.jsxs("div",{className:"group-meta",children:[c.jsxs("span",{className:"member-count",children:[c.jsx("span",{className:"material-icons-round",children:"person"}),((i=(s=t.member_count)==null?void 0:s[0])==null?void 0:i.count)||0," 成員"]}),t.is_private&&c.jsxs("span",{className:"private-badge",children:[c.jsx("span",{className:"material-icons-round",children:"lock"}),"私有"]})]})]}),c.jsxs("div",{className:"group-actions",children:[e&&c.jsx("span",{className:"role-badge",children:((o=t.group_members[0])==null?void 0:o.role)==="owner"?"擁有者":((a=t.group_members[0])==null?void 0:a.role)==="admin"?"管理員":"成員"}),n&&c.jsx("button",{className:"btn btn-primary btn-sm",onClick:r,children:"加入"}),c.jsx("button",{className:"btn btn-ghost btn-icon",children:c.jsx("span",{className:"material-icons-round",children:"more_vert"})})]})]})}function gv({invitation:t,onRespond:e}){return c.jsxs("div",{className:"invitation-card",children:[c.jsxs("div",{className:"invitation-info",children:[c.jsx("h4",{children:t.group.name}),c.jsx("p",{children:t.group.description}),c.jsxs("small",{children:["由 ",t.invited_by_user.display_name||t.invited_by_user.email," 邀請"]})]}),c.jsxs("div",{className:"invitation-actions",children:[c.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>e(t.id,"accepted"),children:"接受"}),c.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>e(t.id,"rejected"),children:"拒絕"})]})]})}function vv({onClose:t,onCreate:e}){const[n,r]=I.useState({name:"",description:"",isPrivate:!1,maxMembers:100}),[s,i]=I.useState(!1),o=async a=>{if(a.preventDefault(),!!n.name.trim()){i(!0);try{await e(n)}finally{i(!1)}}};return c.jsx("div",{className:"modal-overlay",onClick:t,children:c.jsxs("div",{className:"modal",onClick:a=>a.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{children:"創建新群組"}),c.jsx("button",{onClick:t,className:"btn btn-ghost btn-icon",children:c.jsx("span",{className:"material-icons-round",children:"close"})})]}),c.jsxs("form",{onSubmit:o,className:"modal-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"groupName",children:"群組名稱 *"}),c.jsx("input",{type:"text",id:"groupName",value:n.name,onChange:a=>r({...n,name:a.target.value}),className:"form-input",placeholder:"輸入群組名稱",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"groupDescription",children:"群組描述"}),c.jsx("textarea",{id:"groupDescription",value:n.description,onChange:a=>r({...n,description:a.target.value}),className:"form-textarea",placeholder:"描述這個群組的用途...",rows:"3"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"maxMembers",children:"最大成員數"}),c.jsx("input",{type:"number",id:"maxMembers",value:n.maxMembers,onChange:a=>r({...n,maxMembers:parseInt(a.target.value)}),className:"form-input",min:"2",max:"1000"})]}),c.jsx("div",{className:"form-group",children:c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:n.isPrivate,onChange:a=>r({...n,isPrivate:a.target.checked})}),c.jsx("span",{className:"checkbox-text",children:"私有群組（僅邀請制）"})]})}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"取消"}),c.jsx("button",{type:"submit",disabled:s||!n.name.trim(),className:"btn btn-primary",children:s?"創建中...":"創建群組"})]})]})]})})}class ph{constructor(){this.providers=[{name:"OpenAI",endpoint:"https://api.openai.com/v1/chat/completions",apiKey:void 0,model:"gpt-3.5-turbo",priority:0},{name:"Google AI Studio",endpoint:"https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent",apiKey:void 0,model:"gemini-pro",priority:1},{name:"OpenRouter",endpoint:"https://openrouter.ai/api/v1/chat/completions",apiKey:void 0,model:"deepseek/deepseek-r1-0528:free",priority:2},{name:"Anthropic",endpoint:"https://api.anthropic.com/v1/messages",apiKey:void 0,model:"claude-3-haiku-20240307",priority:3}],this.fallbackResponses=["I understand your question. Let me provide you with a comprehensive answer that addresses your specific needs.","That's an interesting point you've raised. Here's my perspective on this topic, along with some additional insights.","I'd be happy to help you with that. Based on what you've shared, here are some suggestions and considerations.","Thank you for your question. This is a complex topic, so let me break it down into manageable parts for you.","I appreciate you bringing this up. Let me share some thoughts and provide you with actionable information.","That's a great question that many people wonder about. Here's what I think would be most helpful for your situation.","I can definitely assist you with this. Let me provide you with a detailed response that covers the key aspects.","This is an area I'm quite familiar with. Here's my analysis and some recommendations for moving forward."]}async generateResponse(e,n=[]){const r=this.providers.filter(s=>s.apiKey).sort((s,i)=>s.priority-i.priority);for(const s of r)try{console.log(`Attempting to use ${s.name} API...`);const i=await this.callProvider(s,e,n);if(i)return console.log(`Successfully got response from ${s.name}`),i}catch(i){console.warn(`${s.name} API failed:`,i.message);continue}return console.log("All API providers failed, using fallback response"),this.generateFallbackResponse(e,n)}async callProvider(e,n,r){const s=[...r.map(i=>({role:i.role,content:i.content})),{role:"user",content:n}];switch(e.name){case"OpenAI":return await this.callOpenAI(e,s);case"Google AI":return await this.callGoogleAI(e,n,r);case"OpenRouter":return await this.callOpenRouter(e,s);case"Anthropic":return await this.callAnthropic(e,s);default:throw new Error(`Unknown provider: ${e.name}`)}}async callOpenAI(e,n){var i,o,a;const r=await fetch(e.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.apiKey}`},body:JSON.stringify({model:e.model,messages:n,max_tokens:1e3,temperature:.7})});if(!r.ok){const l=await r.json().catch(()=>({}));throw new Error(`OpenAI API error: ${r.status} - ${((i=l.error)==null?void 0:i.message)||"Unknown error"}`)}return(a=(o=(await r.json()).choices[0])==null?void 0:o.message)==null?void 0:a.content}async callGoogleAI(e,n,r){var a,l,u,d,h,f;const s=[];r.forEach(v=>{s.push({role:v.role==="assistant"?"model":"user",parts:[{text:v.content}]})}),s.push({role:"user",parts:[{text:n}]});const i=await fetch(`${e.endpoint}?key=${e.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:s,generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1e3},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(!i.ok){const v=await i.json().catch(()=>({}));throw new Error(`Google AI API error: ${i.status} - ${((a=v.error)==null?void 0:a.message)||"Unknown error"}`)}return(f=(h=(d=(u=(l=(await i.json()).candidates)==null?void 0:l[0])==null?void 0:u.content)==null?void 0:d.parts)==null?void 0:h[0])==null?void 0:f.text}async callOpenRouter(e,n){var i,o,a;const r=await fetch(e.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.apiKey}`,"HTTP-Referer":window.location.origin,"X-Title":"AI Chat Application"},body:JSON.stringify({model:e.model,messages:n,max_tokens:1e3,temperature:.7})});if(!r.ok){const l=await r.json().catch(()=>({}));throw new Error(`OpenRouter API error: ${r.status} - ${((i=l.error)==null?void 0:i.message)||"Unknown error"}`)}return(a=(o=(await r.json()).choices[0])==null?void 0:o.message)==null?void 0:a.content}async callAnthropic(e,n){var i,o;const r=await fetch(e.endpoint,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":e.apiKey,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:e.model,max_tokens:1e3,messages:n})});if(!r.ok){const a=await r.json().catch(()=>({}));throw new Error(`Anthropic API error: ${r.status} - ${((i=a.error)==null?void 0:i.message)||"Unknown error"}`)}return(o=(await r.json()).content[0])==null?void 0:o.text}generateFallbackResponse(e,n){return new Promise(r=>{const s=Math.random()*2e3+1e3;setTimeout(()=>{const i=e.toLowerCase();let o;i.includes("hello")||i.includes("hi")?o="Hello! It's great to meet you. I'm here to help with any questions or tasks you might have. What would you like to explore today?":i.includes("help")?o="I'm here to help! I can assist you with a wide variety of tasks including answering questions, creative writing, problem-solving, coding, analysis, and much more. What specific area would you like assistance with?":i.includes("code")||i.includes("programming")?o="I'd be happy to help with coding! I can assist with debugging, explaining concepts, writing code snippets, reviewing code, or discussing best practices. What programming challenge are you working on?":i.includes("write")||i.includes("story")?o="Creative writing is one of my favorite areas to help with! I can assist with stories, essays, poems, scripts, or any other form of writing. What kind of writing project are you working on?":i.includes("explain")||i.includes("what is")?o="I'd be happy to explain that for you! Let me break it down in a clear and understandable way, providing context and examples where helpful.":i.includes("how to")?o="Great question! I'll walk you through the process step by step, making sure to cover all the important details and potential considerations.":o=this.fallbackResponses[Math.floor(Math.random()*this.fallbackResponses.length)],r(o)},s)})}getProviderStatus(){return this.providers.map(e=>({name:e.name,available:!!e.apiKey,model:e.model,priority:e.priority}))}}const rl=new ph,yv=Object.freeze(Object.defineProperty({__proto__:null,AIService:ph,aiService:rl},Symbol.toStringTag,{value:"Module"}));function wv({group:t,user:e,onBack:n}){const[r,s]=I.useState([]),[i,o]=I.useState(null),[a,l]=I.useState([]),[u,d]=I.useState([]),[h,f]=I.useState(!1),[v,y]=I.useState(!1),_=I.useRef(null),C=()=>{var k;(k=_.current)==null||k.scrollIntoView({behavior:"smooth"})};I.useEffect(()=>{C()},[a]),I.useEffect(()=>{t&&g()},[t]);const g=async()=>{try{const{data:k}=await Xe.getGroupConversations(t.id);s(k||[]);const{data:x}=await Xe.getGroupMembers(t.id);if(d(x||[]),!k||k.length===0){const{data:N}=await Xe.createGroupConversation(t.id);N&&(s([N]),o(N))}else o(k[0]),m(k[0].id)}catch(k){console.error("Error loading group data:",k)}},m=async k=>{try{const{data:x,error:N}=await pe.getMessages(k);if(N)throw N;l(x||[])}catch(x){console.error("Error loading messages:",x)}},p=async k=>{if(i)try{const{data:x,error:N}=await pe.createMessage(i.id,"user",k);if(N)throw N;if(l(j=>[...j,x]),f(!0),k.startsWith("@AI ")){const j=k.substring(4),$=await rl.generateResponse(j,a),{data:R,error:X}=await pe.createMessage(i.id,"assistant",$);if(X)throw X;l(we=>[...we,R])}}catch(x){console.error("Send message error:",x)}finally{f(!1)}},w=k=>u.find(x=>x.user.id===k);return c.jsxs("div",{className:"group-chat-container",children:[c.jsxs("div",{className:"group-chat-header",children:[c.jsx("button",{onClick:n,className:"btn btn-ghost btn-icon","aria-label":"返回",children:c.jsx("span",{className:"material-icons-round",children:"arrow_back"})}),c.jsxs("div",{className:"group-info",children:[c.jsx("div",{className:"group-avatar",children:t.avatar_url?c.jsx("img",{src:t.avatar_url,alt:t.name}):c.jsx("span",{className:"material-icons-round",children:"groups"})}),c.jsxs("div",{className:"group-details",children:[c.jsx("h2",{className:"group-name",children:t.name}),c.jsxs("span",{className:"member-count",children:[u.length," 成員"]})]})]}),c.jsxs("div",{className:"group-actions",children:[c.jsx("button",{onClick:()=>y(!v),className:"btn btn-ghost btn-icon","aria-label":"成員列表",children:c.jsx("span",{className:"material-icons-round",children:"people"})}),c.jsx("button",{className:"btn btn-ghost btn-icon","aria-label":"群組設定",children:c.jsx("span",{className:"material-icons-round",children:"settings"})})]})]}),c.jsxs("div",{className:"group-chat-content",children:[c.jsxs("div",{className:"messages-section",children:[c.jsx("div",{className:"messages-container",children:c.jsx("div",{className:"messages-wrapper",children:a.length===0?c.jsxs("div",{className:"empty-chat-state",children:[c.jsx("div",{className:"empty-chat-icon",children:c.jsx("span",{className:"material-icons-round",children:"chat"})}),c.jsx("h3",{children:"開始群組對話"}),c.jsxs("p",{children:["歡迎來到 ",t.name,"！發送第一條消息開始對話吧。"]}),c.jsxs("div",{className:"ai-tip",children:[c.jsx("span",{className:"material-icons-round",children:"lightbulb"}),c.jsx("small",{children:"提示：在消息前加上 @AI 可以讓AI助手參與對話"})]})]}):c.jsxs(c.Fragment,{children:[a.map((k,x)=>c.jsx(_v,{message:k,member:w(k.user_id),isOwn:k.user_id===(e==null?void 0:e.id)},k.id||`${k.timestamp}-${x}`)),h&&c.jsx(na,{message:{role:"assistant",content:"",timestamp:new Date().toISOString()},isLoading:!0}),c.jsx("div",{ref:_})]})})}),c.jsx(hh,{onSendMessage:p,isLoading:h,disabled:!1,user:e,placeholder:"輸入消息... (使用 @AI 讓AI參與對話)"})]}),v&&c.jsxs("div",{className:"members-sidebar",children:[c.jsxs("div",{className:"members-header",children:[c.jsxs("h3",{children:["成員 (",u.length,")"]}),c.jsx("button",{onClick:()=>y(!1),className:"btn btn-ghost btn-icon",children:c.jsx("span",{className:"material-icons-round",children:"close"})})]}),c.jsx("div",{className:"members-list",children:u.map(k=>c.jsx(kv,{member:k},k.id))})]})]})]})}function _v({message:t,member:e,isOwn:n}){var s,i,o;const r=a=>a?new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return c.jsxs("div",{className:`group-message ${n?"own":""} ${t.role}`,children:[!n&&c.jsx("div",{className:"message-avatar",children:(s=e==null?void 0:e.user)!=null&&s.avatar_url?c.jsx("img",{src:e.user.avatar_url,alt:e.user.display_name}):c.jsx("span",{className:"material-icons-round",children:t.role==="assistant"?"psychology":"person"})}),c.jsxs("div",{className:"message-content",children:[!n&&c.jsxs("div",{className:"message-sender",children:[t.role==="assistant"?"AI助手":((i=e==null?void 0:e.user)==null?void 0:i.display_name)||((o=e==null?void 0:e.user)==null?void 0:o.email)||"未知用戶",(e==null?void 0:e.role)==="owner"&&c.jsx("span",{className:"role-badge",children:"擁有者"}),(e==null?void 0:e.role)==="admin"&&c.jsx("span",{className:"role-badge",children:"管理員"})]}),c.jsx("div",{className:`message-bubble ${t.is_error?"error":""}`,children:c.jsx("div",{className:"message-text",children:t.content})}),t.timestamp&&c.jsx("div",{className:"message-time",children:r(t.timestamp)})]})]})}function kv({member:t}){const e=r=>{switch(r){case"owner":return"crown";case"admin":return"admin_panel_settings";default:return"person"}},n=r=>{switch(r){case"owner":return"擁有者";case"admin":return"管理員";default:return"成員"}};return c.jsxs("div",{className:"member-item",children:[c.jsx("div",{className:"member-avatar",children:t.user.avatar_url?c.jsx("img",{src:t.user.avatar_url,alt:t.user.display_name}):c.jsx("span",{className:"material-icons-round",children:"person"})}),c.jsxs("div",{className:"member-info",children:[c.jsx("div",{className:"member-name",children:t.user.display_name||t.user.email}),c.jsxs("div",{className:"member-role",children:[c.jsx("span",{className:"material-icons-round",children:e(t.role)}),n(t.role)]})]})]})}function Sv(){const[t,e]=I.useState(null),[n,r]=I.useState(!0),[s,i]=I.useState(!1),[o,a]=I.useState(!1),[l,u]=I.useState([]),[d,h]=I.useState(null),[f,v]=I.useState([]),[y,_]=I.useState(!1),[C,g]=I.useState(!1),[m,p]=I.useState("chat"),[w,k]=I.useState(null),x=I.useRef(null),N=()=>{var O;(O=x.current)==null||O.scrollIntoView({behavior:"smooth"})};I.useEffect(()=>{N()},[f]),I.useEffect(()=>{(async()=>{try{const{user:T}=await pe.getCurrentUser();e(T),T&&(await $(),await j(T))}catch(T){console.error("Auth initialization error:",T)}finally{r(!1)}})();const{data:{subscription:S}}=U.auth.onAuthStateChange(async(T,b)=>{e((b==null?void 0:b.user)||null),b!=null&&b.user?(await $(),await j(b.user)):(u([]),v([]),h(null))});return()=>S.unsubscribe()},[]);const j=async O=>{var S;try{const{data:T}=await U.from("users").select("id").eq("id",O.id).single();T||await U.from("users").insert([{id:O.id,email:O.email,display_name:((S=O.user_metadata)==null?void 0:S.display_name)||O.email.split("@")[0]}])}catch(T){console.error("Error ensuring user profile:",T)}},$=async()=>{try{const{data:O,error:S}=await pe.getConversations();if(S)throw S;u(O||[]),O&&O.length>0&&!d&&await X(O[0].id)}catch(O){console.error("Error loading conversations:",O)}},R=async()=>{if(!t){i(!0);return}try{const{data:O,error:S}=await pe.createConversation();if(S)throw S;u(T=>[O,...T]),h(O.id),v([]),g(!1),p("chat")}catch(O){console.error("Error creating conversation:",O)}},X=async O=>{try{h(O);const{data:S,error:T}=await pe.getMessages(O);if(T)throw T;v(S||[]),g(!1),p("chat")}catch(S){console.error("Error loading messages:",S),v([])}},we=O=>{k(O),p("group-chat"),g(!1)},Ut=async(O,S)=>{const T=S.length>40?S.substring(0,40)+"...":S;try{await pe.updateConversation(O,{title:T}),u(b=>b.map(F=>F.id===O?{...F,title:T}:F))}catch(b){console.error("Error updating conversation title:",b)}},Hr=async O=>{if(!t){i(!0);return}if(!d){await R();return}try{const{data:S,error:T}=await pe.createMessage(d,"user",O);if(T)throw T;const b=[...f,S];v(b),_(!0),f.length===0&&await Ut(d,O);const F=await rl.generateResponse(O,f),{data:Z,error:Mt}=await pe.createMessage(d,"assistant",F);if(Mt)throw Mt;v(tt=>[...tt,Z])}catch(S){console.error("Send message error:",S);try{const{data:T}=await pe.createMessage(d,"assistant","I apologize, but I encountered an error while processing your request. Please try again.",!0);T&&v(b=>[...b,T])}catch(T){console.error("Error saving error message:",T)}}finally{_(!1)}},_i=async O=>{try{const{error:S}=await pe.deleteConversation(O);if(S)throw S;if(u(T=>T.filter(b=>b.id!==O)),d===O){const T=l.filter(b=>b.id!==O);T.length>0?await X(T[0].id):(h(null),v([]))}}catch(S){console.error("Error deleting conversation:",S)}},on=async()=>{try{await pe.signOut(),e(null),u([]),v([]),h(null),p("chat"),k(null)}catch(O){console.error("Sign out error:",O)}};return I.useEffect(()=>{const O=S=>{if(S.ctrlKey||S.metaKey)switch(S.key){case"n":S.preventDefault(),R();break;case"b":S.preventDefault(),g(T=>!T);break;case"g":S.preventDefault(),t&&a(!0);break}S.key==="Escape"&&(g(!1),i(!1),a(!1))};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[t]),n?c.jsxs("div",{className:"loading-screen",children:[c.jsx("div",{className:"loading-spinner",children:c.jsxs("div",{className:"loading-dots",children:[c.jsx("div",{className:"loading-dot"}),c.jsx("div",{className:"loading-dot"}),c.jsx("div",{className:"loading-dot"})]})}),c.jsx("p",{children:"Loading..."})]}):c.jsxs("div",{className:"chat-container",children:[c.jsx(av,{conversations:l,currentConversationId:d,onNewChat:R,onSelectConversation:X,onDeleteConversation:_i,onSelectGroupChat:we,isOpen:C,onClose:()=>g(!1),user:t,onSignOut:on,onSignIn:()=>i(!0),onOpenGroupManagement:()=>a(!0)}),c.jsx("main",{className:"main-chat",children:m==="chat"?c.jsxs(c.Fragment,{children:[c.jsx(lv,{onToggleSidebar:()=>g(!C),currentConversation:l.find(O=>O.id===d),user:t,onSignIn:()=>i(!0),onSignOut:on}),c.jsx("div",{className:"messages-container",children:c.jsx("div",{className:"messages-wrapper",children:f.length===0?c.jsx(cv,{onStartChat:R,user:t,onSignIn:()=>i(!0)}):c.jsxs(c.Fragment,{children:[f.map((O,S)=>c.jsx(na,{message:O},O.id||`${O.timestamp}-${S}`)),y&&c.jsx(na,{message:{role:"assistant",content:"",timestamp:new Date().toISOString()},isLoading:!0}),c.jsx("div",{ref:x})]})})}),c.jsx(hh,{onSendMessage:Hr,isLoading:y,disabled:!t||!d,user:t})]}):m==="group-chat"&&w?c.jsx(wv,{group:w,user:t,onBack:()=>p("chat")}):null}),c.jsx(dv,{isOpen:s,onClose:()=>i(!1),onAuthSuccess:O=>{e(O),$()}}),o&&c.jsx(hv,{user:t,onClose:()=>a(!1)})]})}const xv=Fd(document.getElementById("root"));xv.render(c.jsx(Sv,{}));
